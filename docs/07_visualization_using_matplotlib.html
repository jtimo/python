<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.53">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>7&nbsp; Visualization – Python for Engineers and Scientists (v1.5)</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./08_scientific_computing_using_scipy.html" rel="next">
<link href="./06_pandas.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="./index.html" class="navbar-brand navbar-brand-logo">
    <img src="./images/book_cover.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Python for Engineers and Scientists (v1.5)</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./07_visualization_using_matplotlib.html"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Visualization</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01_introduction.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02_representing_data.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Data Representation</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03_control_structures.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Control Structures</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04_writing_programs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Programs and Functions</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05_numpy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Arrays and Array Operations using NumPy</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06_pandas.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Dataframes and Series for Data Wrangling</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07_visualization_using_matplotlib.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Visualization</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08_scientific_computing_using_scipy.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Scientific Python (SciPy)</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09_machine_learning_using_scikitlearn.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Scikit-Learn for Machine Learning</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./about.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">About</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#libraries-for-visualization-using-python" id="toc-libraries-for-visualization-using-python" class="nav-link active" data-scroll-target="#libraries-for-visualization-using-python"><span class="header-section-number">7.1</span> Libraries for Visualization using Python</a>
  <ul class="collapse">
  <li><a href="#matplotlib" id="toc-matplotlib" class="nav-link" data-scroll-target="#matplotlib"><span class="header-section-number">7.1.1</span> Matplotlib</a></li>
  <li><a href="#bokeh" id="toc-bokeh" class="nav-link" data-scroll-target="#bokeh"><span class="header-section-number">7.1.2</span> Bokeh</a></li>
  </ul></li>
  <li><a href="#the-object-oriented-framework-of-matplotlib" id="toc-the-object-oriented-framework-of-matplotlib" class="nav-link" data-scroll-target="#the-object-oriented-framework-of-matplotlib"><span class="header-section-number">7.2</span> The Object-Oriented Framework of Matplotlib</a>
  <ul class="collapse">
  <li><a href="#a-basic-plot" id="toc-a-basic-plot" class="nav-link" data-scroll-target="#a-basic-plot"><span class="header-section-number">7.2.1</span> A Basic Plot</a></li>
  <li><a href="#adding-multiple-axes" id="toc-adding-multiple-axes" class="nav-link" data-scroll-target="#adding-multiple-axes"><span class="header-section-number">7.2.2</span> Adding Multiple Axes</a></li>
  <li><a href="#using-subplots-for-multiple-plots" id="toc-using-subplots-for-multiple-plots" class="nav-link" data-scroll-target="#using-subplots-for-multiple-plots"><span class="header-section-number">7.2.3</span> Using <code>subplots</code> for Multiple Plots</a></li>
  <li><a href="#customizing-plots" id="toc-customizing-plots" class="nav-link" data-scroll-target="#customizing-plots"><span class="header-section-number">7.2.4</span> Customizing Plots</a></li>
  <li><a href="#scatter-plots" id="toc-scatter-plots" class="nav-link" data-scroll-target="#scatter-plots"><span class="header-section-number">7.2.5</span> Scatter Plots</a></li>
  <li><a href="#multiple-subplots-and-saving-plots" id="toc-multiple-subplots-and-saving-plots" class="nav-link" data-scroll-target="#multiple-subplots-and-saving-plots"><span class="header-section-number">7.2.6</span> Multiple Subplots and Saving Plots</a></li>
  <li><a href="#visualizing-a-3d-function" id="toc-visualizing-a-3d-function" class="nav-link" data-scroll-target="#visualizing-a-3d-function"><span class="header-section-number">7.2.7</span> Visualizing a 3D function</a></li>
  </ul></li>
  <li><a href="#visualizing-statistics" id="toc-visualizing-statistics" class="nav-link" data-scroll-target="#visualizing-statistics"><span class="header-section-number">7.3</span> Visualizing Statistics</a></li>
  <li><a href="#two-dimensional-histograms" id="toc-two-dimensional-histograms" class="nav-link" data-scroll-target="#two-dimensional-histograms"><span class="header-section-number">7.4</span> Two-Dimensional Histograms</a></li>
  <li><a href="#animations-chaotic-dynamics-of-a-double-pendulum" id="toc-animations-chaotic-dynamics-of-a-double-pendulum" class="nav-link" data-scroll-target="#animations-chaotic-dynamics-of-a-double-pendulum"><span class="header-section-number">7.5</span> Animations: Chaotic Dynamics of a Double Pendulum</a></li>
  <li><a href="#exercises" id="toc-exercises" class="nav-link" data-scroll-target="#exercises"><span class="header-section-number">7.6</span> Exercises</a>
  <ul class="collapse">
  <li><a href="#theory" id="toc-theory" class="nav-link" data-scroll-target="#theory"><span class="header-section-number">7.6.1</span> Theory</a></li>
  <li><a href="#coding" id="toc-coding" class="nav-link" data-scroll-target="#coding"><span class="header-section-number">7.6.2</span> Coding</a></li>
  </ul></li>
  <li><a href="#further-reading" id="toc-further-reading" class="nav-link" data-scroll-target="#further-reading"><span class="header-section-number">7.7</span> Further Reading</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Visualization</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Data visualization is an essential aspect of scientific and engineering analysis and interpretation. It involves the graphical representation of data, allowing for an intuitive and efficient understanding of complex datasets. Here’s why visualization is so crucial:</p>
<ul>
<li><p>Visualization simplifies the complexity inherent in data. By converting raw data into visual formats such as charts, graphs, and maps, it becomes easier to identify patterns, trends, and outliers. This enhanced understanding aids in making informed decisions based on the data.</p></li>
<li><p>Graphs and charts are universally understood, transcending language barriers and simplifying the communication of insights. Visualization allows data analysts, scientists, and business professionals to convey their findings to a broader audience, including those without technical expertise.</p></li>
<li><p>Visual representations can reveal trends and patterns that might not be apparent in raw data. For example, time series graphs can show trends over time, while scatter plots can reveal relationships between variables. This capability is invaluable in fields such as finance, healthcare, and marketing, where timely insights are crucial.</p></li>
<li><p>Studies have shown that humans are more likely to remember information presented visually compared to text. Visual aids improve the retention and recall of information, making data visualization an effective tool for teaching and presentations.</p></li>
<li><p>Before diving into complex statistical analyses, visualizing data can provide a preliminary understanding of the dataset. Techniques like scatter plots, histograms, and box plots help in identifying the distribution of data, spotting anomalies, and determining the next steps in the analysis.</p></li>
<li><p>Modern visualization tools offer interactivity, allowing users to explore data dynamically. Interactive charts and dashboards enable users to drill down into specific data points, filter datasets, and customize views, providing a more flexible and engaging way to analyze data.</p></li>
</ul>
<section id="libraries-for-visualization-using-python" class="level2" data-number="7.1">
<h2 data-number="7.1" class="anchored" data-anchor-id="libraries-for-visualization-using-python"><span class="header-section-number">7.1</span> Libraries for Visualization using Python</h2>
<p>Some of the visualization tools available in Python include:</p>
<ul>
<li><strong>Matplotlib</strong>: The foundational library for creating static plots in Python. It provides extensive control over plot appearance and is highly customizable.</li>
<li><strong>Seaborn</strong>: Built on top of Matplotlib, Seaborn simplifies the creation of attractive and informative statistical graphics. It integrates well with pandas data structures and enhances Matplotlib’s capabilities.</li>
<li><strong>Plotly</strong>: Known for creating interactive plots, Plotly is used for producing high-quality graphs that can be embedded in web applications. Will not be discussed in the course and can be studied from resources.</li>
<li><strong>Bokeh</strong>: Another library for creating interactive plots, Bokeh is particularly useful for large datasets and creating dashboards.</li>
</ul>
<section id="matplotlib" class="level3" data-number="7.1.1">
<h3 data-number="7.1.1" class="anchored" data-anchor-id="matplotlib"><span class="header-section-number">7.1.1</span> Matplotlib</h3>
<p>Matplotlib is a popular Python library used for creating high-quality, publication-ready visualizations such as graphs, charts, and plots. It was developed in the early 2000s by John D. Hunter.</p>
<p>As usual, we start by importing the necessary libraries. Then using the <code>plot</code> function, we can plot the data.</p>
<div id="23d9106b" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>matplotlib inline </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt   </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>The most common type of data that is visualized are functions. A function <span class="math inline">\(f(x) = \sin (x)\)</span> takes in <span class="math inline">\(x\)</span> and outputs <span class="math inline">\(f\)</span>. To plot functions, we provide a range of input values that the function takes and outputs a range of values. A simple matlabesque plot can be generated using the following command.</p>
<div id="8759a42f" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">2</span><span class="op">*</span>np.pi, <span class="dv">2000</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">4</span>, <span class="dv">4</span>))</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>plt.plot(x, np.sin(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="07_visualization_using_matplotlib_files/figure-html/cell-3-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1"><img src="07_visualization_using_matplotlib_files/figure-html/cell-3-output-1.png" width="367" height="337" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>While this might be a quick way to generate figures, the object-oriented framework of matplotlib is more powerful and flexible.</p>
</section>
<section id="bokeh" class="level3" data-number="7.1.2">
<h3 data-number="7.1.2" class="anchored" data-anchor-id="bokeh"><span class="header-section-number">7.1.2</span> Bokeh</h3>
<p>Bokeh is another popular library for creating interactive visualizations in Python. It is designed for creating web-based plots and dashboards that can be viewed in a web browser. Bokeh provides a high-level interface for creating interactive plots with a wide range of features and customization options. It is basically powered by JavaScript.</p>
<div id="90048a9f" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bokeh.palettes <span class="im">import</span> tol</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bokeh.plotting <span class="im">import</span> figure, show</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bokeh.io <span class="im">import</span> output_notebook</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.DataFrame(np.random.randint(<span class="dv">10</span>, <span class="dv">100</span>, size<span class="op">=</span>(<span class="dv">15</span>, N))).add_prefix(<span class="st">'y'</span>)</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>output_notebook()</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>p <span class="op">=</span> figure(x_range<span class="op">=</span>(<span class="dv">0</span>, <span class="bu">len</span>(df)<span class="op">-</span><span class="dv">1</span>), y_range<span class="op">=</span>(<span class="dv">0</span>, <span class="dv">800</span>))</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>p.grid.minor_grid_line_color <span class="op">=</span> <span class="st">'#eeeeee'</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>names <span class="op">=</span> [<span class="ss">f"y</span><span class="sc">{</span>i<span class="sc">}</span><span class="ss">"</span> <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(N)]</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>p.varea_stack(stackers<span class="op">=</span>names, x<span class="op">=</span><span class="st">'index'</span>, color<span class="op">=</span>tol[<span class="st">'Sunset'</span>][N], legend_label<span class="op">=</span>names, source<span class="op">=</span>df)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>p.legend.orientation <span class="op">=</span> <span class="st">"horizontal"</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>p.legend.background_fill_color <span class="op">=</span> <span class="st">"#fafafa"</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>show(p)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<style>
        .bk-notebook-logo {
            display: block;
            width: 20px;
            height: 20px;
            background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEgAACxIB0t1+/AAAABx0RVh0U29mdHdhcmUAQWRvYmUgRmlyZXdvcmtzIENTNui8sowAAAOkSURBVDiNjZRtaJVlGMd/1/08zzln5zjP1LWcU9N0NkN8m2CYjpgQYQXqSs0I84OLIC0hkEKoPtiH3gmKoiJDU7QpLgoLjLIQCpEsNJ1vqUOdO7ppbuec5+V+rj4ctwzd8IIbbi6u+8f1539dt3A78eXC7QizUF7gyV1fD1Yqg4JWz84yffhm0qkFqBogB9rM8tZdtwVsPUhWhGcFJngGeWrPzHm5oaMmkfEg1usvLFyc8jLRqDOMru7AyC8saQr7GG7f5fvDeH7Ej8CM66nIF+8yngt6HWaKh7k49Soy9nXurCi1o3qUbS3zWfrYeQDTB/Qj6kX6Ybhw4B+bOYoLKCC9H3Nu/leUTZ1JdRWkkn2ldcCamzrcf47KKXdAJllSlxAOkRgyHsGC/zRday5Qld9DyoM4/q/rUoy/CXh3jzOu3bHUVZeU+DEn8FInkPBFlu3+nW3Nw0mk6vCDiWg8CeJaxEwuHS3+z5RgY+YBR6V1Z1nxSOfoaPa4LASWxxdNp+VWTk7+4vzaou8v8PN+xo+KY2xsw6une2frhw05CTYOmQvsEhjhWjn0bmXPjpE1+kplmmkP3suftwTubK9Vq22qKmrBhpY4jvd5afdRA3wGjFAgcnTK2s4hY0/GPNIb0nErGMCRxWOOX64Z8RAC4oCXdklmEvcL8o0BfkNK4lUg9HTl+oPlQxdNo3Mg4Nv175e/1LDGzZen30MEjRUtmXSfiTVu1kK8W4txyV6BMKlbgk3lMwYCiusNy9fVfvvwMxv8Ynl6vxoByANLTWplvuj/nF9m2+PDtt1eiHPBr1oIfhCChQMBw6Aw0UulqTKZdfVvfG7VcfIqLG9bcldL/+pdWTLxLUy8Qq38heUIjh4XlzZxzQm19lLFlr8vdQ97rjZVOLf8nclzckbcD4wxXMidpX30sFd37Fv/GtwwhzhxGVAprjbg0gCAEeIgwCZyTV2Z1REEW8O4py0wsjeloKoMr6iCY6dP92H6Vw/oTyICIthibxjm/DfN9lVz8IqtqKYLUXfoKVMVQVVJOElGjrnnUt9T9wbgp8AyYKaGlqingHZU/uG2NTZSVqwHQTWkx9hxjkpWDaCg6Ckj5qebgBVbT3V3NNXMSiWSDdGV3hrtzla7J+duwPOToIg42ChPQOQjspnSlp1V+Gjdged7+8UN5CRAV7a5EdFNwCjEaBR27b3W890TE7g24NAP/mMDXRWrGoFPQI9ls/MWO2dWFAar/xcOIImbbpA3zgAAAABJRU5ErkJggg==);
        }
    </style>
    <div>
        <a href="https://bokeh.org" target="_blank" class="bk-notebook-logo"></a>
        <span id="e73e26f5-a845-48c4-9973-8e0e435788b0">Loading BokehJS ...</span>
    </div>
</div>
<div class="cell-output cell-output-display">
<script type="application/javascript">
(function(root) {
  function now() {
    return new Date();
  }

  const force = true;

  if (typeof root._bokeh_onload_callbacks === "undefined" || force === true) {
    root._bokeh_onload_callbacks = [];
    root._bokeh_is_loading = undefined;
  }

const JS_MIME_TYPE = 'application/javascript';
  const HTML_MIME_TYPE = 'text/html';
  const EXEC_MIME_TYPE = 'application/vnd.bokehjs_exec.v0+json';
  const CLASS_NAME = 'output_bokeh rendered_html';

  /**
   * Render data to the DOM node
   */
  function render(props, node) {
    const script = document.createElement("script");
    node.appendChild(script);
  }

  /**
   * Handle when an output is cleared or removed
   */
  function handleClearOutput(event, handle) {
    const cell = handle.cell;

    const id = cell.output_area._bokeh_element_id;
    const server_id = cell.output_area._bokeh_server_id;
    // Clean up Bokeh references
    if (id != null && id in Bokeh.index) {
      Bokeh.index[id].model.document.clear();
      delete Bokeh.index[id];
    }

    if (server_id !== undefined) {
      // Clean up Bokeh references
      const cmd_clean = "from bokeh.io.state import curstate; print(curstate().uuid_to_server['" + server_id + "'].get_sessions()[0].document.roots[0]._id)";
      cell.notebook.kernel.execute(cmd_clean, {
        iopub: {
          output: function(msg) {
            const id = msg.content.text.trim();
            if (id in Bokeh.index) {
              Bokeh.index[id].model.document.clear();
              delete Bokeh.index[id];
            }
          }
        }
      });
      // Destroy server and session
      const cmd_destroy = "import bokeh.io.notebook as ion; ion.destroy_server('" + server_id + "')";
      cell.notebook.kernel.execute(cmd_destroy);
    }
  }

  /**
   * Handle when a new output is added
   */
  function handleAddOutput(event, handle) {
    const output_area = handle.output_area;
    const output = handle.output;

    // limit handleAddOutput to display_data with EXEC_MIME_TYPE content only
    if ((output.output_type != "display_data") || (!Object.prototype.hasOwnProperty.call(output.data, EXEC_MIME_TYPE))) {
      return
    }

    const toinsert = output_area.element.find("." + CLASS_NAME.split(' ')[0]);

    if (output.metadata[EXEC_MIME_TYPE]["id"] !== undefined) {
      toinsert[toinsert.length - 1].firstChild.textContent = output.data[JS_MIME_TYPE];
      // store reference to embed id on output_area
      output_area._bokeh_element_id = output.metadata[EXEC_MIME_TYPE]["id"];
    }
    if (output.metadata[EXEC_MIME_TYPE]["server_id"] !== undefined) {
      const bk_div = document.createElement("div");
      bk_div.innerHTML = output.data[HTML_MIME_TYPE];
      const script_attrs = bk_div.children[0].attributes;
      for (let i = 0; i < script_attrs.length; i++) {
        toinsert[toinsert.length - 1].firstChild.setAttribute(script_attrs[i].name, script_attrs[i].value);
        toinsert[toinsert.length - 1].firstChild.textContent = bk_div.children[0].textContent
      }
      // store reference to server id on output_area
      output_area._bokeh_server_id = output.metadata[EXEC_MIME_TYPE]["server_id"];
    }
  }

  function register_renderer(events, OutputArea) {

    function append_mime(data, metadata, element) {
      // create a DOM node to render to
      const toinsert = this.create_output_subarea(
        metadata,
        CLASS_NAME,
        EXEC_MIME_TYPE
      );
      this.keyboard_manager.register_events(toinsert);
      // Render to node
      const props = {data: data, metadata: metadata[EXEC_MIME_TYPE]};
      render(props, toinsert[toinsert.length - 1]);
      element.append(toinsert);
      return toinsert
    }

    /* Handle when an output is cleared or removed */
    events.on('clear_output.CodeCell', handleClearOutput);
    events.on('delete.Cell', handleClearOutput);

    /* Handle when a new output is added */
    events.on('output_added.OutputArea', handleAddOutput);

    /**
     * Register the mime type and append_mime function with output_area
     */
    OutputArea.prototype.register_mime_type(EXEC_MIME_TYPE, append_mime, {
      /* Is output safe? */
      safe: true,
      /* Index of renderer in `output_area.display_order` */
      index: 0
    });
  }

  // register the mime type if in Jupyter Notebook environment and previously unregistered
  if (root.Jupyter !== undefined) {
    const events = require('base/js/events');
    const OutputArea = require('notebook/js/outputarea').OutputArea;

    if (OutputArea.prototype.mime_types().indexOf(EXEC_MIME_TYPE) == -1) {
      register_renderer(events, OutputArea);
    }
  }
  if (typeof (root._bokeh_timeout) === "undefined" || force === true) {
    root._bokeh_timeout = Date.now() + 5000;
    root._bokeh_failed_load = false;
  }

  const NB_LOAD_WARNING = {'data': {'text/html':
     "<div style='background-color: #fdd'>\n"+
     "<p>\n"+
     "BokehJS does not appear to have successfully loaded. If loading BokehJS from CDN, this \n"+
     "may be due to a slow or bad network connection. Possible fixes:\n"+
     "</p>\n"+
     "<ul>\n"+
     "<li>re-rerun `output_notebook()` to attempt to load from CDN again, or</li>\n"+
     "<li>use INLINE resources instead, as so:</li>\n"+
     "</ul>\n"+
     "<code>\n"+
     "from bokeh.resources import INLINE\n"+
     "output_notebook(resources=INLINE)\n"+
     "</code>\n"+
     "</div>"}};

  function display_loaded() {
    const el = document.getElementById("e73e26f5-a845-48c4-9973-8e0e435788b0");
    if (el != null) {
      el.textContent = "BokehJS is loading...";
    }
    if (root.Bokeh !== undefined) {
      if (el != null) {
        el.textContent = "BokehJS " + root.Bokeh.version + " successfully loaded.";
      }
    } else if (Date.now() < root._bokeh_timeout) {
      setTimeout(display_loaded, 100)
    }
  }

  function run_callbacks() {
    try {
      root._bokeh_onload_callbacks.forEach(function(callback) {
        if (callback != null)
          callback();
      });
    } finally {
      delete root._bokeh_onload_callbacks
    }
    console.debug("Bokeh: all callbacks have finished");
  }

  function load_libs(css_urls, js_urls, callback) {
    if (css_urls == null) css_urls = [];
    if (js_urls == null) js_urls = [];

    root._bokeh_onload_callbacks.push(callback);
    if (root._bokeh_is_loading > 0) {
      console.debug("Bokeh: BokehJS is being loaded, scheduling callback at", now());
      return null;
    }
    if (js_urls == null || js_urls.length === 0) {
      run_callbacks();
      return null;
    }
    console.debug("Bokeh: BokehJS not loaded, scheduling load and callback at", now());
    root._bokeh_is_loading = css_urls.length + js_urls.length;

    function on_load() {
      root._bokeh_is_loading--;
      if (root._bokeh_is_loading === 0) {
        console.debug("Bokeh: all BokehJS libraries/stylesheets loaded");
        run_callbacks()
      }
    }

    function on_error(url) {
      console.error("failed to load " + url);
    }

    for (let i = 0; i < css_urls.length; i++) {
      const url = css_urls[i];
      const element = document.createElement("link");
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.rel = "stylesheet";
      element.type = "text/css";
      element.href = url;
      console.debug("Bokeh: injecting link tag for BokehJS stylesheet: ", url);
      document.body.appendChild(element);
    }

    for (let i = 0; i < js_urls.length; i++) {
      const url = js_urls[i];
      const element = document.createElement('script');
      element.onload = on_load;
      element.onerror = on_error.bind(null, url);
      element.async = false;
      element.src = url;
      console.debug("Bokeh: injecting script tag for BokehJS library: ", url);
      document.head.appendChild(element);
    }
  };

  function inject_raw_css(css) {
    const element = document.createElement("style");
    element.appendChild(document.createTextNode(css));
    document.body.appendChild(element);
  }

  const js_urls = ["https://cdn.bokeh.org/bokeh/release/bokeh-3.2.1.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-gl-3.2.1.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-widgets-3.2.1.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-tables-3.2.1.min.js", "https://cdn.bokeh.org/bokeh/release/bokeh-mathjax-3.2.1.min.js"];
  const css_urls = [];

  const inline_js = [    function(Bokeh) {
      Bokeh.set_log_level("info");
    },
function(Bokeh) {
    }
  ];

  function run_inline_js() {
    if (root.Bokeh !== undefined || force === true) {
          for (let i = 0; i < inline_js.length; i++) {
      inline_js[i].call(root, root.Bokeh);
    }
if (force === true) {
        display_loaded();
      }} else if (Date.now() < root._bokeh_timeout) {
      setTimeout(run_inline_js, 100);
    } else if (!root._bokeh_failed_load) {
      console.log("Bokeh: BokehJS failed to load within specified timeout.");
      root._bokeh_failed_load = true;
    } else if (force !== true) {
      const cell = $(document.getElementById("e73e26f5-a845-48c4-9973-8e0e435788b0")).parents('.cell').data().cell;
      cell.output_area.append_execute_result(NB_LOAD_WARNING)
    }
  }

  if (root._bokeh_is_loading === 0) {
    console.debug("Bokeh: BokehJS loaded, going straight to plotting");
    run_inline_js();
  } else {
    load_libs(css_urls, js_urls, function() {
      console.debug("Bokeh: BokehJS plotting callback run at", now());
      run_inline_js();
    });
  }
}(window));
</script>
</div>
<div class="cell-output cell-output-display">

  <div id="c18e437f-01cd-40ff-99a3-e3220f4b30f9" data-root-id="p1001" style="display: contents;"></div>
</div>
<div class="cell-output cell-output-display">
<script type="application/javascript">
(function(root) {
  function embed_document(root) {
  const docs_json = {"7aa97530-8f03-449e-80da-4a306b6e0ab6":{"version":"3.2.1","title":"Bokeh Application","roots":[{"type":"object","name":"Figure","id":"p1001","attributes":{"x_range":{"type":"object","name":"Range1d","id":"p1010","attributes":{"end":14}},"y_range":{"type":"object","name":"Range1d","id":"p1011","attributes":{"end":800}},"x_scale":{"type":"object","name":"LinearScale","id":"p1012"},"y_scale":{"type":"object","name":"LinearScale","id":"p1013"},"title":{"type":"object","name":"Title","id":"p1008"},"renderers":[{"type":"object","name":"GlyphRenderer","id":"p1060","attributes":{"name":"y0","data_source":{"type":"object","name":"ColumnDataSource","id":"p1051","attributes":{"selected":{"type":"object","name":"Selection","id":"p1052","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1053"},"data":{"type":"map","entries":[["index",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y0",{"type":"ndarray","array":{"type":"bytes","data":"FQAAAFYAAAAwAAAAMwAAAEcAAABFAAAALgAAAE8AAAAtAAAAKQAAAEYAAAA+AAAADQAAAEkAAAAxAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y1",{"type":"ndarray","array":{"type":"bytes","data":"MgAAAFsAAAAmAAAARgAAAB0AAAA9AAAAFQAAABEAAAAaAAAAJwAAACAAAABVAAAAEAAAAEsAAABSAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y2",{"type":"ndarray","array":{"type":"bytes","data":"PQAAABEAAAATAAAAYAAAAFsAAABWAAAAWgAAACQAAAAMAAAAKAAAADkAAAARAAAAGAAAACYAAAALAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y3",{"type":"ndarray","array":{"type":"bytes","data":"TQAAACEAAABSAAAAEQAAABAAAAATAAAAQgAAAGIAAAA5AAAAMQAAAE0AAAA1AAAAPAAAAFQAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y4",{"type":"ndarray","array":{"type":"bytes","data":"UgAAABUAAAAVAAAAOAAAAE8AAABiAAAAHQAAAFEAAAAUAAAAFAAAAEcAAAAjAAAAUgAAAEUAAAAkAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y5",{"type":"ndarray","array":{"type":"bytes","data":"GAAAAFsAAABCAAAAJwAAAFwAAAAlAAAAFQAAAEYAAAAwAAAAFQAAAEIAAABYAAAANQAAABcAAAAsAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y6",{"type":"ndarray","array":{"type":"bytes","data":"DQAAAEgAAABiAAAAJAAAAFEAAAANAAAAPgAAACQAAAAtAAAAWQAAABQAAABcAAAAEAAAACsAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y7",{"type":"ndarray","array":{"type":"bytes","data":"DAAAAEsAAAA0AAAADwAAABAAAABiAAAARgAAABUAAAAPAAAANQAAACcAAAAWAAAAOAAAADoAAAAYAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y8",{"type":"ndarray","array":{"type":"bytes","data":"TwAAAFUAAABSAAAAKgAAACEAAAANAAAACwAAADUAAAAfAAAAEQAAAE4AAAAVAAAASwAAABEAAAA7AAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y9",{"type":"ndarray","array":{"type":"bytes","data":"GAAAABsAAABTAAAAJwAAAAwAAAA+AAAAMgAAAEQAAABBAAAAEgAAAB4AAABOAAAASgAAAAoAAAAqAAAA"},"shape":[15],"dtype":"int32","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1061","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1062"}}},"glyph":{"type":"object","name":"VArea","id":"p1057","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1031","attributes":{"fields":[]}}},"y2":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1032","attributes":{"fields":["y0"]}}},"fill_color":"#364B9A","hatch_color":{"type":"value","value":"#364B9A"}}},"nonselection_glyph":{"type":"object","name":"VArea","id":"p1058","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1031"}},"y2":{"type":"expr","expr":{"id":"p1032"}},"fill_color":"#364B9A","fill_alpha":0.1,"hatch_color":{"type":"value","value":"#364B9A"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VArea","id":"p1059","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1031"}},"y2":{"type":"expr","expr":{"id":"p1032"}},"fill_color":"#364B9A","fill_alpha":0.2,"hatch_color":{"type":"value","value":"#364B9A"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1074","attributes":{"name":"y1","data_source":{"type":"object","name":"ColumnDataSource","id":"p1065","attributes":{"selected":{"type":"object","name":"Selection","id":"p1066","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1067"},"data":{"type":"map","entries":[["index",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y0",{"type":"ndarray","array":{"type":"bytes","data":"FQAAAFYAAAAwAAAAMwAAAEcAAABFAAAALgAAAE8AAAAtAAAAKQAAAEYAAAA+AAAADQAAAEkAAAAxAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y1",{"type":"ndarray","array":{"type":"bytes","data":"MgAAAFsAAAAmAAAARgAAAB0AAAA9AAAAFQAAABEAAAAaAAAAJwAAACAAAABVAAAAEAAAAEsAAABSAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y2",{"type":"ndarray","array":{"type":"bytes","data":"PQAAABEAAAATAAAAYAAAAFsAAABWAAAAWgAAACQAAAAMAAAAKAAAADkAAAARAAAAGAAAACYAAAALAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y3",{"type":"ndarray","array":{"type":"bytes","data":"TQAAACEAAABSAAAAEQAAABAAAAATAAAAQgAAAGIAAAA5AAAAMQAAAE0AAAA1AAAAPAAAAFQAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y4",{"type":"ndarray","array":{"type":"bytes","data":"UgAAABUAAAAVAAAAOAAAAE8AAABiAAAAHQAAAFEAAAAUAAAAFAAAAEcAAAAjAAAAUgAAAEUAAAAkAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y5",{"type":"ndarray","array":{"type":"bytes","data":"GAAAAFsAAABCAAAAJwAAAFwAAAAlAAAAFQAAAEYAAAAwAAAAFQAAAEIAAABYAAAANQAAABcAAAAsAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y6",{"type":"ndarray","array":{"type":"bytes","data":"DQAAAEgAAABiAAAAJAAAAFEAAAANAAAAPgAAACQAAAAtAAAAWQAAABQAAABcAAAAEAAAACsAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y7",{"type":"ndarray","array":{"type":"bytes","data":"DAAAAEsAAAA0AAAADwAAABAAAABiAAAARgAAABUAAAAPAAAANQAAACcAAAAWAAAAOAAAADoAAAAYAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y8",{"type":"ndarray","array":{"type":"bytes","data":"TwAAAFUAAABSAAAAKgAAACEAAAANAAAACwAAADUAAAAfAAAAEQAAAE4AAAAVAAAASwAAABEAAAA7AAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y9",{"type":"ndarray","array":{"type":"bytes","data":"GAAAABsAAABTAAAAJwAAAAwAAAA+AAAAMgAAAEQAAABBAAAAEgAAAB4AAABOAAAASgAAAAoAAAAqAAAA"},"shape":[15],"dtype":"int32","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1075","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1076"}}},"glyph":{"type":"object","name":"VArea","id":"p1071","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1033","attributes":{"fields":["y0"]}}},"y2":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1034","attributes":{"fields":["y0","y1"]}}},"fill_color":"#4E7FB9","hatch_color":{"type":"value","value":"#4E7FB9"}}},"nonselection_glyph":{"type":"object","name":"VArea","id":"p1072","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1033"}},"y2":{"type":"expr","expr":{"id":"p1034"}},"fill_color":"#4E7FB9","fill_alpha":0.1,"hatch_color":{"type":"value","value":"#4E7FB9"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VArea","id":"p1073","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1033"}},"y2":{"type":"expr","expr":{"id":"p1034"}},"fill_color":"#4E7FB9","fill_alpha":0.2,"hatch_color":{"type":"value","value":"#4E7FB9"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1087","attributes":{"name":"y2","data_source":{"type":"object","name":"ColumnDataSource","id":"p1078","attributes":{"selected":{"type":"object","name":"Selection","id":"p1079","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1080"},"data":{"type":"map","entries":[["index",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y0",{"type":"ndarray","array":{"type":"bytes","data":"FQAAAFYAAAAwAAAAMwAAAEcAAABFAAAALgAAAE8AAAAtAAAAKQAAAEYAAAA+AAAADQAAAEkAAAAxAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y1",{"type":"ndarray","array":{"type":"bytes","data":"MgAAAFsAAAAmAAAARgAAAB0AAAA9AAAAFQAAABEAAAAaAAAAJwAAACAAAABVAAAAEAAAAEsAAABSAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y2",{"type":"ndarray","array":{"type":"bytes","data":"PQAAABEAAAATAAAAYAAAAFsAAABWAAAAWgAAACQAAAAMAAAAKAAAADkAAAARAAAAGAAAACYAAAALAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y3",{"type":"ndarray","array":{"type":"bytes","data":"TQAAACEAAABSAAAAEQAAABAAAAATAAAAQgAAAGIAAAA5AAAAMQAAAE0AAAA1AAAAPAAAAFQAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y4",{"type":"ndarray","array":{"type":"bytes","data":"UgAAABUAAAAVAAAAOAAAAE8AAABiAAAAHQAAAFEAAAAUAAAAFAAAAEcAAAAjAAAAUgAAAEUAAAAkAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y5",{"type":"ndarray","array":{"type":"bytes","data":"GAAAAFsAAABCAAAAJwAAAFwAAAAlAAAAFQAAAEYAAAAwAAAAFQAAAEIAAABYAAAANQAAABcAAAAsAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y6",{"type":"ndarray","array":{"type":"bytes","data":"DQAAAEgAAABiAAAAJAAAAFEAAAANAAAAPgAAACQAAAAtAAAAWQAAABQAAABcAAAAEAAAACsAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y7",{"type":"ndarray","array":{"type":"bytes","data":"DAAAAEsAAAA0AAAADwAAABAAAABiAAAARgAAABUAAAAPAAAANQAAACcAAAAWAAAAOAAAADoAAAAYAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y8",{"type":"ndarray","array":{"type":"bytes","data":"TwAAAFUAAABSAAAAKgAAACEAAAANAAAACwAAADUAAAAfAAAAEQAAAE4AAAAVAAAASwAAABEAAAA7AAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y9",{"type":"ndarray","array":{"type":"bytes","data":"GAAAABsAAABTAAAAJwAAAAwAAAA+AAAAMgAAAEQAAABBAAAAEgAAAB4AAABOAAAASgAAAAoAAAAqAAAA"},"shape":[15],"dtype":"int32","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1088","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1089"}}},"glyph":{"type":"object","name":"VArea","id":"p1084","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1035","attributes":{"fields":["y0","y1"]}}},"y2":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1036","attributes":{"fields":["y0","y1","y2"]}}},"fill_color":"#77AED1","hatch_color":{"type":"value","value":"#77AED1"}}},"nonselection_glyph":{"type":"object","name":"VArea","id":"p1085","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1035"}},"y2":{"type":"expr","expr":{"id":"p1036"}},"fill_color":"#77AED1","fill_alpha":0.1,"hatch_color":{"type":"value","value":"#77AED1"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VArea","id":"p1086","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1035"}},"y2":{"type":"expr","expr":{"id":"p1036"}},"fill_color":"#77AED1","fill_alpha":0.2,"hatch_color":{"type":"value","value":"#77AED1"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1100","attributes":{"name":"y3","data_source":{"type":"object","name":"ColumnDataSource","id":"p1091","attributes":{"selected":{"type":"object","name":"Selection","id":"p1092","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1093"},"data":{"type":"map","entries":[["index",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y0",{"type":"ndarray","array":{"type":"bytes","data":"FQAAAFYAAAAwAAAAMwAAAEcAAABFAAAALgAAAE8AAAAtAAAAKQAAAEYAAAA+AAAADQAAAEkAAAAxAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y1",{"type":"ndarray","array":{"type":"bytes","data":"MgAAAFsAAAAmAAAARgAAAB0AAAA9AAAAFQAAABEAAAAaAAAAJwAAACAAAABVAAAAEAAAAEsAAABSAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y2",{"type":"ndarray","array":{"type":"bytes","data":"PQAAABEAAAATAAAAYAAAAFsAAABWAAAAWgAAACQAAAAMAAAAKAAAADkAAAARAAAAGAAAACYAAAALAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y3",{"type":"ndarray","array":{"type":"bytes","data":"TQAAACEAAABSAAAAEQAAABAAAAATAAAAQgAAAGIAAAA5AAAAMQAAAE0AAAA1AAAAPAAAAFQAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y4",{"type":"ndarray","array":{"type":"bytes","data":"UgAAABUAAAAVAAAAOAAAAE8AAABiAAAAHQAAAFEAAAAUAAAAFAAAAEcAAAAjAAAAUgAAAEUAAAAkAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y5",{"type":"ndarray","array":{"type":"bytes","data":"GAAAAFsAAABCAAAAJwAAAFwAAAAlAAAAFQAAAEYAAAAwAAAAFQAAAEIAAABYAAAANQAAABcAAAAsAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y6",{"type":"ndarray","array":{"type":"bytes","data":"DQAAAEgAAABiAAAAJAAAAFEAAAANAAAAPgAAACQAAAAtAAAAWQAAABQAAABcAAAAEAAAACsAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y7",{"type":"ndarray","array":{"type":"bytes","data":"DAAAAEsAAAA0AAAADwAAABAAAABiAAAARgAAABUAAAAPAAAANQAAACcAAAAWAAAAOAAAADoAAAAYAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y8",{"type":"ndarray","array":{"type":"bytes","data":"TwAAAFUAAABSAAAAKgAAACEAAAANAAAACwAAADUAAAAfAAAAEQAAAE4AAAAVAAAASwAAABEAAAA7AAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y9",{"type":"ndarray","array":{"type":"bytes","data":"GAAAABsAAABTAAAAJwAAAAwAAAA+AAAAMgAAAEQAAABBAAAAEgAAAB4AAABOAAAASgAAAAoAAAAqAAAA"},"shape":[15],"dtype":"int32","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1101","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1102"}}},"glyph":{"type":"object","name":"VArea","id":"p1097","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1037","attributes":{"fields":["y0","y1","y2"]}}},"y2":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1038","attributes":{"fields":["y0","y1","y2","y3"]}}},"fill_color":"#A5D2E5","hatch_color":{"type":"value","value":"#A5D2E5"}}},"nonselection_glyph":{"type":"object","name":"VArea","id":"p1098","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1037"}},"y2":{"type":"expr","expr":{"id":"p1038"}},"fill_color":"#A5D2E5","fill_alpha":0.1,"hatch_color":{"type":"value","value":"#A5D2E5"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VArea","id":"p1099","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1037"}},"y2":{"type":"expr","expr":{"id":"p1038"}},"fill_color":"#A5D2E5","fill_alpha":0.2,"hatch_color":{"type":"value","value":"#A5D2E5"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1113","attributes":{"name":"y4","data_source":{"type":"object","name":"ColumnDataSource","id":"p1104","attributes":{"selected":{"type":"object","name":"Selection","id":"p1105","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1106"},"data":{"type":"map","entries":[["index",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y0",{"type":"ndarray","array":{"type":"bytes","data":"FQAAAFYAAAAwAAAAMwAAAEcAAABFAAAALgAAAE8AAAAtAAAAKQAAAEYAAAA+AAAADQAAAEkAAAAxAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y1",{"type":"ndarray","array":{"type":"bytes","data":"MgAAAFsAAAAmAAAARgAAAB0AAAA9AAAAFQAAABEAAAAaAAAAJwAAACAAAABVAAAAEAAAAEsAAABSAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y2",{"type":"ndarray","array":{"type":"bytes","data":"PQAAABEAAAATAAAAYAAAAFsAAABWAAAAWgAAACQAAAAMAAAAKAAAADkAAAARAAAAGAAAACYAAAALAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y3",{"type":"ndarray","array":{"type":"bytes","data":"TQAAACEAAABSAAAAEQAAABAAAAATAAAAQgAAAGIAAAA5AAAAMQAAAE0AAAA1AAAAPAAAAFQAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y4",{"type":"ndarray","array":{"type":"bytes","data":"UgAAABUAAAAVAAAAOAAAAE8AAABiAAAAHQAAAFEAAAAUAAAAFAAAAEcAAAAjAAAAUgAAAEUAAAAkAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y5",{"type":"ndarray","array":{"type":"bytes","data":"GAAAAFsAAABCAAAAJwAAAFwAAAAlAAAAFQAAAEYAAAAwAAAAFQAAAEIAAABYAAAANQAAABcAAAAsAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y6",{"type":"ndarray","array":{"type":"bytes","data":"DQAAAEgAAABiAAAAJAAAAFEAAAANAAAAPgAAACQAAAAtAAAAWQAAABQAAABcAAAAEAAAACsAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y7",{"type":"ndarray","array":{"type":"bytes","data":"DAAAAEsAAAA0AAAADwAAABAAAABiAAAARgAAABUAAAAPAAAANQAAACcAAAAWAAAAOAAAADoAAAAYAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y8",{"type":"ndarray","array":{"type":"bytes","data":"TwAAAFUAAABSAAAAKgAAACEAAAANAAAACwAAADUAAAAfAAAAEQAAAE4AAAAVAAAASwAAABEAAAA7AAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y9",{"type":"ndarray","array":{"type":"bytes","data":"GAAAABsAAABTAAAAJwAAAAwAAAA+AAAAMgAAAEQAAABBAAAAEgAAAB4AAABOAAAASgAAAAoAAAAqAAAA"},"shape":[15],"dtype":"int32","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1114","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1115"}}},"glyph":{"type":"object","name":"VArea","id":"p1110","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1039","attributes":{"fields":["y0","y1","y2","y3"]}}},"y2":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1040","attributes":{"fields":["y0","y1","y2","y3","y4"]}}},"fill_color":"#D3E7DF","hatch_color":{"type":"value","value":"#D3E7DF"}}},"nonselection_glyph":{"type":"object","name":"VArea","id":"p1111","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1039"}},"y2":{"type":"expr","expr":{"id":"p1040"}},"fill_color":"#D3E7DF","fill_alpha":0.1,"hatch_color":{"type":"value","value":"#D3E7DF"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VArea","id":"p1112","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1039"}},"y2":{"type":"expr","expr":{"id":"p1040"}},"fill_color":"#D3E7DF","fill_alpha":0.2,"hatch_color":{"type":"value","value":"#D3E7DF"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1126","attributes":{"name":"y5","data_source":{"type":"object","name":"ColumnDataSource","id":"p1117","attributes":{"selected":{"type":"object","name":"Selection","id":"p1118","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1119"},"data":{"type":"map","entries":[["index",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y0",{"type":"ndarray","array":{"type":"bytes","data":"FQAAAFYAAAAwAAAAMwAAAEcAAABFAAAALgAAAE8AAAAtAAAAKQAAAEYAAAA+AAAADQAAAEkAAAAxAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y1",{"type":"ndarray","array":{"type":"bytes","data":"MgAAAFsAAAAmAAAARgAAAB0AAAA9AAAAFQAAABEAAAAaAAAAJwAAACAAAABVAAAAEAAAAEsAAABSAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y2",{"type":"ndarray","array":{"type":"bytes","data":"PQAAABEAAAATAAAAYAAAAFsAAABWAAAAWgAAACQAAAAMAAAAKAAAADkAAAARAAAAGAAAACYAAAALAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y3",{"type":"ndarray","array":{"type":"bytes","data":"TQAAACEAAABSAAAAEQAAABAAAAATAAAAQgAAAGIAAAA5AAAAMQAAAE0AAAA1AAAAPAAAAFQAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y4",{"type":"ndarray","array":{"type":"bytes","data":"UgAAABUAAAAVAAAAOAAAAE8AAABiAAAAHQAAAFEAAAAUAAAAFAAAAEcAAAAjAAAAUgAAAEUAAAAkAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y5",{"type":"ndarray","array":{"type":"bytes","data":"GAAAAFsAAABCAAAAJwAAAFwAAAAlAAAAFQAAAEYAAAAwAAAAFQAAAEIAAABYAAAANQAAABcAAAAsAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y6",{"type":"ndarray","array":{"type":"bytes","data":"DQAAAEgAAABiAAAAJAAAAFEAAAANAAAAPgAAACQAAAAtAAAAWQAAABQAAABcAAAAEAAAACsAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y7",{"type":"ndarray","array":{"type":"bytes","data":"DAAAAEsAAAA0AAAADwAAABAAAABiAAAARgAAABUAAAAPAAAANQAAACcAAAAWAAAAOAAAADoAAAAYAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y8",{"type":"ndarray","array":{"type":"bytes","data":"TwAAAFUAAABSAAAAKgAAACEAAAANAAAACwAAADUAAAAfAAAAEQAAAE4AAAAVAAAASwAAABEAAAA7AAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y9",{"type":"ndarray","array":{"type":"bytes","data":"GAAAABsAAABTAAAAJwAAAAwAAAA+AAAAMgAAAEQAAABBAAAAEgAAAB4AAABOAAAASgAAAAoAAAAqAAAA"},"shape":[15],"dtype":"int32","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1127","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1128"}}},"glyph":{"type":"object","name":"VArea","id":"p1123","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1041","attributes":{"fields":["y0","y1","y2","y3","y4"]}}},"y2":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1042","attributes":{"fields":["y0","y1","y2","y3","y4","y5"]}}},"fill_color":"#F5E2A7","hatch_color":{"type":"value","value":"#F5E2A7"}}},"nonselection_glyph":{"type":"object","name":"VArea","id":"p1124","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1041"}},"y2":{"type":"expr","expr":{"id":"p1042"}},"fill_color":"#F5E2A7","fill_alpha":0.1,"hatch_color":{"type":"value","value":"#F5E2A7"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VArea","id":"p1125","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1041"}},"y2":{"type":"expr","expr":{"id":"p1042"}},"fill_color":"#F5E2A7","fill_alpha":0.2,"hatch_color":{"type":"value","value":"#F5E2A7"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1139","attributes":{"name":"y6","data_source":{"type":"object","name":"ColumnDataSource","id":"p1130","attributes":{"selected":{"type":"object","name":"Selection","id":"p1131","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1132"},"data":{"type":"map","entries":[["index",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y0",{"type":"ndarray","array":{"type":"bytes","data":"FQAAAFYAAAAwAAAAMwAAAEcAAABFAAAALgAAAE8AAAAtAAAAKQAAAEYAAAA+AAAADQAAAEkAAAAxAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y1",{"type":"ndarray","array":{"type":"bytes","data":"MgAAAFsAAAAmAAAARgAAAB0AAAA9AAAAFQAAABEAAAAaAAAAJwAAACAAAABVAAAAEAAAAEsAAABSAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y2",{"type":"ndarray","array":{"type":"bytes","data":"PQAAABEAAAATAAAAYAAAAFsAAABWAAAAWgAAACQAAAAMAAAAKAAAADkAAAARAAAAGAAAACYAAAALAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y3",{"type":"ndarray","array":{"type":"bytes","data":"TQAAACEAAABSAAAAEQAAABAAAAATAAAAQgAAAGIAAAA5AAAAMQAAAE0AAAA1AAAAPAAAAFQAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y4",{"type":"ndarray","array":{"type":"bytes","data":"UgAAABUAAAAVAAAAOAAAAE8AAABiAAAAHQAAAFEAAAAUAAAAFAAAAEcAAAAjAAAAUgAAAEUAAAAkAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y5",{"type":"ndarray","array":{"type":"bytes","data":"GAAAAFsAAABCAAAAJwAAAFwAAAAlAAAAFQAAAEYAAAAwAAAAFQAAAEIAAABYAAAANQAAABcAAAAsAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y6",{"type":"ndarray","array":{"type":"bytes","data":"DQAAAEgAAABiAAAAJAAAAFEAAAANAAAAPgAAACQAAAAtAAAAWQAAABQAAABcAAAAEAAAACsAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y7",{"type":"ndarray","array":{"type":"bytes","data":"DAAAAEsAAAA0AAAADwAAABAAAABiAAAARgAAABUAAAAPAAAANQAAACcAAAAWAAAAOAAAADoAAAAYAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y8",{"type":"ndarray","array":{"type":"bytes","data":"TwAAAFUAAABSAAAAKgAAACEAAAANAAAACwAAADUAAAAfAAAAEQAAAE4AAAAVAAAASwAAABEAAAA7AAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y9",{"type":"ndarray","array":{"type":"bytes","data":"GAAAABsAAABTAAAAJwAAAAwAAAA+AAAAMgAAAEQAAABBAAAAEgAAAB4AAABOAAAASgAAAAoAAAAqAAAA"},"shape":[15],"dtype":"int32","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1140","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1141"}}},"glyph":{"type":"object","name":"VArea","id":"p1136","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1043","attributes":{"fields":["y0","y1","y2","y3","y4","y5"]}}},"y2":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1044","attributes":{"fields":["y0","y1","y2","y3","y4","y5","y6"]}}},"fill_color":"#FDC072","hatch_color":{"type":"value","value":"#FDC072"}}},"nonselection_glyph":{"type":"object","name":"VArea","id":"p1137","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1043"}},"y2":{"type":"expr","expr":{"id":"p1044"}},"fill_color":"#FDC072","fill_alpha":0.1,"hatch_color":{"type":"value","value":"#FDC072"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VArea","id":"p1138","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1043"}},"y2":{"type":"expr","expr":{"id":"p1044"}},"fill_color":"#FDC072","fill_alpha":0.2,"hatch_color":{"type":"value","value":"#FDC072"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1152","attributes":{"name":"y7","data_source":{"type":"object","name":"ColumnDataSource","id":"p1143","attributes":{"selected":{"type":"object","name":"Selection","id":"p1144","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1145"},"data":{"type":"map","entries":[["index",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y0",{"type":"ndarray","array":{"type":"bytes","data":"FQAAAFYAAAAwAAAAMwAAAEcAAABFAAAALgAAAE8AAAAtAAAAKQAAAEYAAAA+AAAADQAAAEkAAAAxAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y1",{"type":"ndarray","array":{"type":"bytes","data":"MgAAAFsAAAAmAAAARgAAAB0AAAA9AAAAFQAAABEAAAAaAAAAJwAAACAAAABVAAAAEAAAAEsAAABSAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y2",{"type":"ndarray","array":{"type":"bytes","data":"PQAAABEAAAATAAAAYAAAAFsAAABWAAAAWgAAACQAAAAMAAAAKAAAADkAAAARAAAAGAAAACYAAAALAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y3",{"type":"ndarray","array":{"type":"bytes","data":"TQAAACEAAABSAAAAEQAAABAAAAATAAAAQgAAAGIAAAA5AAAAMQAAAE0AAAA1AAAAPAAAAFQAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y4",{"type":"ndarray","array":{"type":"bytes","data":"UgAAABUAAAAVAAAAOAAAAE8AAABiAAAAHQAAAFEAAAAUAAAAFAAAAEcAAAAjAAAAUgAAAEUAAAAkAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y5",{"type":"ndarray","array":{"type":"bytes","data":"GAAAAFsAAABCAAAAJwAAAFwAAAAlAAAAFQAAAEYAAAAwAAAAFQAAAEIAAABYAAAANQAAABcAAAAsAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y6",{"type":"ndarray","array":{"type":"bytes","data":"DQAAAEgAAABiAAAAJAAAAFEAAAANAAAAPgAAACQAAAAtAAAAWQAAABQAAABcAAAAEAAAACsAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y7",{"type":"ndarray","array":{"type":"bytes","data":"DAAAAEsAAAA0AAAADwAAABAAAABiAAAARgAAABUAAAAPAAAANQAAACcAAAAWAAAAOAAAADoAAAAYAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y8",{"type":"ndarray","array":{"type":"bytes","data":"TwAAAFUAAABSAAAAKgAAACEAAAANAAAACwAAADUAAAAfAAAAEQAAAE4AAAAVAAAASwAAABEAAAA7AAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y9",{"type":"ndarray","array":{"type":"bytes","data":"GAAAABsAAABTAAAAJwAAAAwAAAA+AAAAMgAAAEQAAABBAAAAEgAAAB4AAABOAAAASgAAAAoAAAAqAAAA"},"shape":[15],"dtype":"int32","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1153","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1154"}}},"glyph":{"type":"object","name":"VArea","id":"p1149","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1045","attributes":{"fields":["y0","y1","y2","y3","y4","y5","y6"]}}},"y2":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1046","attributes":{"fields":["y0","y1","y2","y3","y4","y5","y6","y7"]}}},"fill_color":"#F78951","hatch_color":{"type":"value","value":"#F78951"}}},"nonselection_glyph":{"type":"object","name":"VArea","id":"p1150","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1045"}},"y2":{"type":"expr","expr":{"id":"p1046"}},"fill_color":"#F78951","fill_alpha":0.1,"hatch_color":{"type":"value","value":"#F78951"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VArea","id":"p1151","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1045"}},"y2":{"type":"expr","expr":{"id":"p1046"}},"fill_color":"#F78951","fill_alpha":0.2,"hatch_color":{"type":"value","value":"#F78951"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1165","attributes":{"name":"y8","data_source":{"type":"object","name":"ColumnDataSource","id":"p1156","attributes":{"selected":{"type":"object","name":"Selection","id":"p1157","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1158"},"data":{"type":"map","entries":[["index",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y0",{"type":"ndarray","array":{"type":"bytes","data":"FQAAAFYAAAAwAAAAMwAAAEcAAABFAAAALgAAAE8AAAAtAAAAKQAAAEYAAAA+AAAADQAAAEkAAAAxAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y1",{"type":"ndarray","array":{"type":"bytes","data":"MgAAAFsAAAAmAAAARgAAAB0AAAA9AAAAFQAAABEAAAAaAAAAJwAAACAAAABVAAAAEAAAAEsAAABSAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y2",{"type":"ndarray","array":{"type":"bytes","data":"PQAAABEAAAATAAAAYAAAAFsAAABWAAAAWgAAACQAAAAMAAAAKAAAADkAAAARAAAAGAAAACYAAAALAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y3",{"type":"ndarray","array":{"type":"bytes","data":"TQAAACEAAABSAAAAEQAAABAAAAATAAAAQgAAAGIAAAA5AAAAMQAAAE0AAAA1AAAAPAAAAFQAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y4",{"type":"ndarray","array":{"type":"bytes","data":"UgAAABUAAAAVAAAAOAAAAE8AAABiAAAAHQAAAFEAAAAUAAAAFAAAAEcAAAAjAAAAUgAAAEUAAAAkAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y5",{"type":"ndarray","array":{"type":"bytes","data":"GAAAAFsAAABCAAAAJwAAAFwAAAAlAAAAFQAAAEYAAAAwAAAAFQAAAEIAAABYAAAANQAAABcAAAAsAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y6",{"type":"ndarray","array":{"type":"bytes","data":"DQAAAEgAAABiAAAAJAAAAFEAAAANAAAAPgAAACQAAAAtAAAAWQAAABQAAABcAAAAEAAAACsAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y7",{"type":"ndarray","array":{"type":"bytes","data":"DAAAAEsAAAA0AAAADwAAABAAAABiAAAARgAAABUAAAAPAAAANQAAACcAAAAWAAAAOAAAADoAAAAYAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y8",{"type":"ndarray","array":{"type":"bytes","data":"TwAAAFUAAABSAAAAKgAAACEAAAANAAAACwAAADUAAAAfAAAAEQAAAE4AAAAVAAAASwAAABEAAAA7AAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y9",{"type":"ndarray","array":{"type":"bytes","data":"GAAAABsAAABTAAAAJwAAAAwAAAA+AAAAMgAAAEQAAABBAAAAEgAAAB4AAABOAAAASgAAAAoAAAAqAAAA"},"shape":[15],"dtype":"int32","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1166","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1167"}}},"glyph":{"type":"object","name":"VArea","id":"p1162","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1047","attributes":{"fields":["y0","y1","y2","y3","y4","y5","y6","y7"]}}},"y2":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1048","attributes":{"fields":["y0","y1","y2","y3","y4","y5","y6","y7","y8"]}}},"fill_color":"#DF4430","hatch_color":{"type":"value","value":"#DF4430"}}},"nonselection_glyph":{"type":"object","name":"VArea","id":"p1163","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1047"}},"y2":{"type":"expr","expr":{"id":"p1048"}},"fill_color":"#DF4430","fill_alpha":0.1,"hatch_color":{"type":"value","value":"#DF4430"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VArea","id":"p1164","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1047"}},"y2":{"type":"expr","expr":{"id":"p1048"}},"fill_color":"#DF4430","fill_alpha":0.2,"hatch_color":{"type":"value","value":"#DF4430"},"hatch_alpha":{"type":"value","value":0.2}}}}},{"type":"object","name":"GlyphRenderer","id":"p1178","attributes":{"name":"y9","data_source":{"type":"object","name":"ColumnDataSource","id":"p1169","attributes":{"selected":{"type":"object","name":"Selection","id":"p1170","attributes":{"indices":[],"line_indices":[]}},"selection_policy":{"type":"object","name":"UnionRenderers","id":"p1171"},"data":{"type":"map","entries":[["index",{"type":"ndarray","array":{"type":"bytes","data":"AAAAAAEAAAACAAAAAwAAAAQAAAAFAAAABgAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y0",{"type":"ndarray","array":{"type":"bytes","data":"FQAAAFYAAAAwAAAAMwAAAEcAAABFAAAALgAAAE8AAAAtAAAAKQAAAEYAAAA+AAAADQAAAEkAAAAxAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y1",{"type":"ndarray","array":{"type":"bytes","data":"MgAAAFsAAAAmAAAARgAAAB0AAAA9AAAAFQAAABEAAAAaAAAAJwAAACAAAABVAAAAEAAAAEsAAABSAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y2",{"type":"ndarray","array":{"type":"bytes","data":"PQAAABEAAAATAAAAYAAAAFsAAABWAAAAWgAAACQAAAAMAAAAKAAAADkAAAARAAAAGAAAACYAAAALAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y3",{"type":"ndarray","array":{"type":"bytes","data":"TQAAACEAAABSAAAAEQAAABAAAAATAAAAQgAAAGIAAAA5AAAAMQAAAE0AAAA1AAAAPAAAAFQAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y4",{"type":"ndarray","array":{"type":"bytes","data":"UgAAABUAAAAVAAAAOAAAAE8AAABiAAAAHQAAAFEAAAAUAAAAFAAAAEcAAAAjAAAAUgAAAEUAAAAkAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y5",{"type":"ndarray","array":{"type":"bytes","data":"GAAAAFsAAABCAAAAJwAAAFwAAAAlAAAAFQAAAEYAAAAwAAAAFQAAAEIAAABYAAAANQAAABcAAAAsAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y6",{"type":"ndarray","array":{"type":"bytes","data":"DQAAAEgAAABiAAAAJAAAAFEAAAANAAAAPgAAACQAAAAtAAAAWQAAABQAAABcAAAAEAAAACsAAAAzAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y7",{"type":"ndarray","array":{"type":"bytes","data":"DAAAAEsAAAA0AAAADwAAABAAAABiAAAARgAAABUAAAAPAAAANQAAACcAAAAWAAAAOAAAADoAAAAYAAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y8",{"type":"ndarray","array":{"type":"bytes","data":"TwAAAFUAAABSAAAAKgAAACEAAAANAAAACwAAADUAAAAfAAAAEQAAAE4AAAAVAAAASwAAABEAAAA7AAAA"},"shape":[15],"dtype":"int32","order":"little"}],["y9",{"type":"ndarray","array":{"type":"bytes","data":"GAAAABsAAABTAAAAJwAAAAwAAAA+AAAAMgAAAEQAAABBAAAAEgAAAB4AAABOAAAASgAAAAoAAAAqAAAA"},"shape":[15],"dtype":"int32","order":"little"}]]}}},"view":{"type":"object","name":"CDSView","id":"p1179","attributes":{"filter":{"type":"object","name":"AllIndices","id":"p1180"}}},"glyph":{"type":"object","name":"VArea","id":"p1175","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1049","attributes":{"fields":["y0","y1","y2","y3","y4","y5","y6","y7","y8"]}}},"y2":{"type":"expr","expr":{"type":"object","name":"Stack","id":"p1050","attributes":{"fields":["y0","y1","y2","y3","y4","y5","y6","y7","y8","y9"]}}},"fill_color":"#A50026","hatch_color":{"type":"value","value":"#A50026"}}},"nonselection_glyph":{"type":"object","name":"VArea","id":"p1176","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1049"}},"y2":{"type":"expr","expr":{"id":"p1050"}},"fill_color":"#A50026","fill_alpha":0.1,"hatch_color":{"type":"value","value":"#A50026"},"hatch_alpha":{"type":"value","value":0.1}}},"muted_glyph":{"type":"object","name":"VArea","id":"p1177","attributes":{"x":{"type":"field","field":"index"},"y1":{"type":"expr","expr":{"id":"p1049"}},"y2":{"type":"expr","expr":{"id":"p1050"}},"fill_color":"#A50026","fill_alpha":0.2,"hatch_color":{"type":"value","value":"#A50026"},"hatch_alpha":{"type":"value","value":0.2}}}}}],"toolbar":{"type":"object","name":"Toolbar","id":"p1009","attributes":{"tools":[{"type":"object","name":"PanTool","id":"p1024"},{"type":"object","name":"WheelZoomTool","id":"p1025"},{"type":"object","name":"BoxZoomTool","id":"p1026","attributes":{"overlay":{"type":"object","name":"BoxAnnotation","id":"p1027","attributes":{"syncable":false,"level":"overlay","visible":false,"left_units":"canvas","right_units":"canvas","bottom_units":"canvas","top_units":"canvas","line_color":"black","line_alpha":1.0,"line_width":2,"line_dash":[4,4],"fill_color":"lightgrey","fill_alpha":0.5}}}},{"type":"object","name":"SaveTool","id":"p1028"},{"type":"object","name":"ResetTool","id":"p1029"},{"type":"object","name":"HelpTool","id":"p1030"}]}},"left":[{"type":"object","name":"LinearAxis","id":"p1019","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1020","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1021"},"major_label_policy":{"type":"object","name":"AllLabels","id":"p1022"}}}],"below":[{"type":"object","name":"LinearAxis","id":"p1014","attributes":{"ticker":{"type":"object","name":"BasicTicker","id":"p1015","attributes":{"mantissas":[1,2,5]}},"formatter":{"type":"object","name":"BasicTickFormatter","id":"p1016"},"major_label_policy":{"type":"object","name":"AllLabels","id":"p1017"}}}],"center":[{"type":"object","name":"Grid","id":"p1018","attributes":{"axis":{"id":"p1014"},"minor_grid_line_color":"#eeeeee"}},{"type":"object","name":"Grid","id":"p1023","attributes":{"dimension":1,"axis":{"id":"p1019"},"minor_grid_line_color":"#eeeeee"}},{"type":"object","name":"Legend","id":"p1063","attributes":{"orientation":"horizontal","background_fill_color":"#fafafa","items":[{"type":"object","name":"LegendItem","id":"p1064","attributes":{"label":{"type":"value","value":"y0"},"renderers":[{"id":"p1060"}]}},{"type":"object","name":"LegendItem","id":"p1077","attributes":{"label":{"type":"value","value":"y1"},"renderers":[{"id":"p1074"}]}},{"type":"object","name":"LegendItem","id":"p1090","attributes":{"label":{"type":"value","value":"y2"},"renderers":[{"id":"p1087"}]}},{"type":"object","name":"LegendItem","id":"p1103","attributes":{"label":{"type":"value","value":"y3"},"renderers":[{"id":"p1100"}]}},{"type":"object","name":"LegendItem","id":"p1116","attributes":{"label":{"type":"value","value":"y4"},"renderers":[{"id":"p1113"}]}},{"type":"object","name":"LegendItem","id":"p1129","attributes":{"label":{"type":"value","value":"y5"},"renderers":[{"id":"p1126"}]}},{"type":"object","name":"LegendItem","id":"p1142","attributes":{"label":{"type":"value","value":"y6"},"renderers":[{"id":"p1139"}]}},{"type":"object","name":"LegendItem","id":"p1155","attributes":{"label":{"type":"value","value":"y7"},"renderers":[{"id":"p1152"}]}},{"type":"object","name":"LegendItem","id":"p1168","attributes":{"label":{"type":"value","value":"y8"},"renderers":[{"id":"p1165"}]}},{"type":"object","name":"LegendItem","id":"p1181","attributes":{"label":{"type":"value","value":"y9"},"renderers":[{"id":"p1178"}]}}]}}]}}]}};
  const render_items = [{"docid":"7aa97530-8f03-449e-80da-4a306b6e0ab6","roots":{"p1001":"c18e437f-01cd-40ff-99a3-e3220f4b30f9"},"root_ids":["p1001"]}];
  root.Bokeh.embed.embed_items_notebook(docs_json, render_items);
  }
  if (root.Bokeh !== undefined) {
    embed_document(root);
  } else {
    let attempts = 0;
    const timer = setInterval(function(root) {
      if (root.Bokeh !== undefined) {
        clearInterval(timer);
        embed_document(root);
      } else {
        attempts++;
        if (attempts > 100) {
          clearInterval(timer);
          console.log("Bokeh: ERROR: Unable to run BokehJS code because BokehJS library is missing");
        }
      }
    }, 10, root)
  }
})(window);
</script>
</div>
</div>
</section>
</section>
<section id="the-object-oriented-framework-of-matplotlib" class="level2" data-number="7.2">
<h2 data-number="7.2" class="anchored" data-anchor-id="the-object-oriented-framework-of-matplotlib"><span class="header-section-number">7.2</span> The Object-Oriented Framework of Matplotlib</h2>
<p>Since its release, Matplotlib has become the de facto standard for data visualization in Python, and it is widely used in various scientific and engineering fields, as well as in industry and academia. One of the key features of Matplotlib is its flexibility, which allows users to create a wide range of visualizations with a high degree of customization.</p>
<p>Matplotlib is built on top of the NumPy and SciPy libraries, which provide the numerical and scientific computing capabilities necessary for data analysis and visualization. It also integrates well with other popular data analysis libraries in the Python ecosystem, such as pandas and seaborn.</p>
<p>Over the years, Matplotlib has undergone significant improvements and enhancements, with the latest release offering new features such as 3D plotting, interactive plotting, and improved performance. With its ease of use, extensive documentation, and broad community support, Matplotlib remains a powerful tool for data visualization in Python.</p>
<p>Matplotlib is a powerful plotting library in Python that allows for the creation of static, animated, and interactive visualizations. While Matplotlib provides a scripting interface (often via <code>pyplot</code>), understanding its object-oriented (OO) approach offers greater control and customization over plots. This introduction will help you understand the fundamentals of the OO framework in Matplotlib with examples.</p>
<p><strong>The Basics of the Object-Oriented Approach</strong></p>
<p>In the OO approach, plots are treated as objects. The primary objects in Matplotlib are <code>Figure</code> and <code>Axes</code>. Here’s a brief overview:</p>
<ul>
<li><strong>Figure</strong>: This is the entire window or page on which everything is drawn. It can contain multiple Axes.</li>
<li><strong>Axes</strong>: These are the actual plots within the Figure. A Figure can contain multiple Axes objects.</li>
</ul>
<section id="a-basic-plot" class="level3" data-number="7.2.1">
<h3 data-number="7.2.1" class="anchored" data-anchor-id="a-basic-plot"><span class="header-section-number">7.2.1</span> A Basic Plot</h3>
<p>Let’s start with a simple example to illustrate the OO framework:</p>
<div id="d4c4b7a0" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Figure object</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">7</span>, <span class="dv">7</span>))</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Add an Axes object to the Figure</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> fig.add_axes([<span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.8</span>, <span class="fl">0.8</span>])  <span class="co"># [left, bottom, width, height]</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plotting data</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>ax.plot([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>], [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">30</span>])</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Setting labels and title</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'X-axis'</span>)</span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'Y-axis'</span>)</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Simple Plot'</span>)</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="07_visualization_using_matplotlib_files/figure-html/cell-5-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2"><img src="07_visualization_using_matplotlib_files/figure-html/cell-5-output-1.png" width="614" height="617" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>the code <code>fig = plt.figure()</code> creates a Figure object. <code>ax = fig.add_axes([0.1, 0.1, 0.8, 0.8])</code> adds an Axes object to the Figure. The list specifies the dimensions of the Axes (left, bottom, width, height) in relative units. <code>ax.plot()</code> is used to plot data. <code>ax.set_xlabel()</code>, <code>ax.set_ylabel()</code>, and <code>ax.set_title()</code> set the labels and title for the Axes.</p>
</section>
<section id="adding-multiple-axes" class="level3" data-number="7.2.2">
<h3 data-number="7.2.2" class="anchored" data-anchor-id="adding-multiple-axes"><span class="header-section-number">7.2.2</span> Adding Multiple Axes</h3>
<p>You can add multiple Axes to a single Figure to create more detailed visualizations.</p>
<div id="d1ee0880" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Figure object</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">7</span>, <span class="dv">7</span>))</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Add first Axes</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>ax1 <span class="op">=</span> fig.add_axes([<span class="fl">0.1</span>, <span class="fl">0.1</span>, <span class="fl">0.8</span>, <span class="fl">0.8</span>])</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>ax1.plot([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>], [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">30</span>])</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>ax1.set_title(<span class="st">'Main Plot'</span>)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>ax1.set_xlabel(<span class="st">'X-axis'</span>)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>ax1.set_ylabel(<span class="st">'Y-axis'</span>)</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Add second Axes</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>ax2 <span class="op">=</span> fig.add_axes([<span class="fl">0.2</span>, <span class="fl">0.6</span>, <span class="fl">0.25</span>, <span class="fl">0.25</span>])</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>ax2.plot([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>], [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">30</span>])</span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>ax2.set_title(<span class="st">'Inset Plot'</span>)</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>ax2.set_xlabel(<span class="st">'X-axis'</span>)</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>ax2.set_ylabel(<span class="st">'Y-axis'</span>)</span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="07_visualization_using_matplotlib_files/figure-html/cell-6-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3"><img src="07_visualization_using_matplotlib_files/figure-html/cell-6-output-1.png" width="614" height="617" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>In this example, <code>ax2</code> is an inset plot within the main plot <code>ax1</code>.</p>
</section>
<section id="using-subplots-for-multiple-plots" class="level3" data-number="7.2.3">
<h3 data-number="7.2.3" class="anchored" data-anchor-id="using-subplots-for-multiple-plots"><span class="header-section-number">7.2.3</span> Using <code>subplots</code> for Multiple Plots</h3>
<p>A more convenient way to create multiple plots is by using the <code>subplots</code> method. Here instead of adding Axes manually, you can create a grid of Axes within a single Figure.</p>
<div id="37462019" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Sample data for each plot</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>data <span class="op">=</span> [</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>    ([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>], [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">30</span>], <span class="st">'Plot 1'</span>),</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>    ([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>], [<span class="dv">30</span>, <span class="dv">25</span>, <span class="dv">20</span>, <span class="dv">10</span>], <span class="st">'Plot 2'</span>),</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>    ([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>], [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">10</span>, <span class="dv">20</span>], <span class="st">'Plot 3'</span>),</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>    ([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>], [<span class="dv">30</span>, <span class="dv">20</span>, <span class="dv">10</span>, <span class="dv">30</span>], <span class="st">'Plot 4'</span>)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Figure with a 2x2 grid of Axes</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>fig, axes <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">2</span>, figsize<span class="op">=</span>(<span class="dv">7</span>, <span class="dv">7</span>))</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Flatten the axes array for easy iteration</span></span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>axes_flat <span class="op">=</span> axes.flatten()</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot data on each Axes using a loop</span></span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> ax, (x, y, title) <span class="kw">in</span> <span class="bu">zip</span>(axes_flat, data):</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    ax.plot(x, y)</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>    ax.set_title(title)</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>    ax.set_xlabel(<span class="st">'X-axis'</span>)</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>    ax.set_ylabel(<span class="st">'Y-axis'</span>)</span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a><span class="co"># Adjust layout to prevent overlap</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="07_visualization_using_matplotlib_files/figure-html/cell-7-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4"><img src="07_visualization_using_matplotlib_files/figure-html/cell-7-output-1.png" width="674" height="660" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>Here, <code>fig, axes = plt.subplots(2, 2)</code> creates a Figure and a 2x2 grid of Axes. You can access each Axes using <code>axes[row, col]</code>.</p>
</section>
<section id="customizing-plots" class="level3" data-number="7.2.4">
<h3 data-number="7.2.4" class="anchored" data-anchor-id="customizing-plots"><span class="header-section-number">7.2.4</span> Customizing Plots</h3>
<p>The OO approach provides extensive methods to customize plots:</p>
<div id="bfe1fbe0" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Figure and Axes</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">7</span>, <span class="dv">7</span>))</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot data</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>ax.plot([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>], [<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">25</span>, <span class="dv">30</span>], label<span class="op">=</span><span class="st">'Data $a$'</span>, linestyle<span class="op">=</span><span class="st">'-.'</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>ax.plot([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>], [<span class="dv">10</span>, <span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">25</span>], label<span class="op">=</span><span class="st">'Data $b$'</span>, linestyle<span class="op">=</span><span class="st">'--'</span>)</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>ax.plot([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>], [<span class="dv">20</span>, <span class="dv">10</span>, <span class="dv">30</span>, <span class="dv">20</span>], label<span class="op">=</span><span class="st">'Data $c$'</span>, linestyle<span class="op">=</span><span class="st">':'</span>)</span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Customize plot</span></span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'X-axis'</span>)</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'Y-axis'</span>)</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Plot Title'</span>)</span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>ax.legend()</span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>ax.grid(<span class="va">True</span>)</span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Customize ticks</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>ax.set_xticks([<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>])</span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>ax.set_yticks([<span class="dv">10</span>, <span class="dv">20</span>, <span class="dv">30</span>])</span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Customize tick labels</span></span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>ax.set_xticklabels([<span class="st">'One'</span>, <span class="st">'Two'</span>, <span class="st">'Three'</span>, <span class="st">'Four'</span>])</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>ax.set_yticklabels([<span class="st">'Ten'</span>, <span class="st">'Twenty'</span>, <span class="st">'Thirty'</span>])</span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="07_visualization_using_matplotlib_files/figure-html/cell-8-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5"><img src="07_visualization_using_matplotlib_files/figure-html/cell-8-output-1.png" width="614" height="597" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>In this example, we customize labels, add a legend, enable grid lines, and set specific tick locations and labels.</p>
<p>By treating plots as objects, you gain more control over their appearance and behavior. Understanding this framework is essential for creating advanced visualizations that are both informative and visually appealing.</p>
<div id="b46cd8da" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">4</span><span class="op">*</span>np.pi, <span class="dv">100</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Figure and Axes</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">7</span>, <span class="dv">7</span>))</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot data</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a><span class="co"># specify color by name</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>ax.plot(x, np.sin(x), color<span class="op">=</span><span class="st">'blue'</span>,linestyle<span class="op">=</span><span class="st">'-.'</span>) </span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="co"># short color code (rgbcmyk)</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>ax.plot(x, x<span class="op">*</span>np.sin(x <span class="op">-</span> <span class="dv">1</span>), color<span class="op">=</span><span class="st">'g'</span>,   linestyle<span class="op">=</span><span class="st">'--'</span>) </span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Grayscale between 0 and 1</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>ax.plot(x, x<span class="op">*</span>np.sin(x <span class="op">-</span> <span class="dv">2</span>), color<span class="op">=</span><span class="st">'0.75'</span>,linestyle<span class="op">=</span><span class="st">':'</span>) </span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a><span class="co"># Hex code (RRGGBB from 00 to FF)</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>ax.plot(x, x<span class="op">*</span>np.sin(x <span class="op">-</span> <span class="dv">3</span>), color<span class="op">=</span><span class="st">'#FFDD44'</span>,linestyle<span class="op">=</span><span class="st">'-'</span>)</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a><span class="co"># RGB tuple, values 0 to 1</span></span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>ax.plot(x, x<span class="op">*</span>np.sin(x <span class="op">-</span> <span class="dv">4</span>), color<span class="op">=</span>(<span class="fl">1.0</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>))</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a><span class="co"># all HTML color names supported</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>ax.plot(x, x<span class="op">*</span>np.sin(x <span class="op">-</span> <span class="dv">5</span>), color<span class="op">=</span><span class="st">'chartreuse'</span>)</span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a><span class="co"># Customize plot</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'X-axis'</span>)</span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'Y-axis'</span>)</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'$\sin$ curves'</span>)</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>ax.legend([<span class="st">'$sin(x)$'</span>, <span class="st">'$x sin(x-1)$'</span>, <span class="st">'$xsin(x-2)$'</span>, <span class="st">'$xsin(x-3)$'</span>, <span class="st">'$xsin(x-4)$'</span>, <span class="st">'$xsin(x-5)$'</span>])</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>ax.grid(<span class="va">True</span>)</span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a><span class="co"># Customize ticks</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>ax.set_xticks([<span class="dv">0</span>, np.pi, <span class="dv">2</span><span class="op">*</span>np.pi, <span class="dv">3</span><span class="op">*</span>np.pi, <span class="dv">4</span><span class="op">*</span>np.pi])</span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Customize tick labels</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>ax.set_xticklabels([<span class="st">'0'</span>, <span class="st">'$\pi$'</span>, <span class="st">'$2\pi$'</span>, <span class="st">'$3\pi$'</span>, <span class="st">'$4\pi$'</span>])</span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the plot</span></span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="07_visualization_using_matplotlib_files/figure-html/cell-9-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6"><img src="07_visualization_using_matplotlib_files/figure-html/cell-9-output-1.png" width="596" height="597" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>List of all markers can be found here: https://matplotlib.org/stable/api/markers_api.html</p>
</section>
<section id="scatter-plots" class="level3" data-number="7.2.5">
<h3 data-number="7.2.5" class="anchored" data-anchor-id="scatter-plots"><span class="header-section-number">7.2.5</span> Scatter Plots</h3>
<p>A common scientific example of a dataset that can be plotted using a scatter plot in Python is a dataset of experimental measurements with two variables. For instance, consider an experiment where the aim is to investigate the relationship between two physical quantities, such as temperature and pressure.</p>
<p>In such an experiment, data is typically collected by measuring both temperature and pressure under various experimental conditions. Each data point in the dataset corresponds to a pair of temperature and pressure measurements obtained at a specific experimental condition.</p>
<p>To visualize this dataset, a scatter plot can be used to plot each data point as a point in a two-dimensional coordinate system, where one axis corresponds to temperature and the other axis corresponds to pressure. Each point in the scatter plot represents a specific experimental condition, and the location of the point corresponds to the temperature and pressure measurements obtained at that condition.</p>
<p>The scatter plot can then be used to visualize the relationship between the two variables. For instance, it may reveal whether there is a linear relationship between temperature and pressure, or whether the relationship is more complex. By visualizing the data in this way, it is easier to gain insights and draw conclusions about the experiment.</p>
<div id="fea061eb" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate some sample data</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>temperature <span class="op">=</span> np.array([<span class="dv">25</span>, <span class="dv">30</span>, <span class="dv">35</span>, <span class="dv">40</span>, <span class="dv">45</span>])</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>pressure <span class="op">=</span> np.array([<span class="dv">100</span>, <span class="dv">120</span>, <span class="dv">130</span>, <span class="dv">150</span>, <span class="dv">170</span>])</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Figure and Axes</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">7</span>, <span class="dv">7</span>))</span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a scatter plot</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>ax.plot(temperature, pressure, <span class="st">'o'</span>)  <span class="co"># 'o' indicates circular markers</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Add labels and title</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'Temperature (Celsius)'</span>)</span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'Pressure (kPa)'</span>)</span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Temperature vs. Pressure'</span>)</span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="07_visualization_using_matplotlib_files/figure-html/cell-10-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7"><img src="07_visualization_using_matplotlib_files/figure-html/cell-10-output-1.png" width="593" height="597" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>Often we also deal with uncorrelated data !</p>
<div id="0def2516" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>rng <span class="op">=</span> np.random.RandomState(seed<span class="op">=</span><span class="dv">0</span>) <span class="co"># A random number generator initialized with a certain state</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="7efb296a" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Generate some sample data</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>np.random.seed(<span class="dv">0</span>)  <span class="co"># For reproducibility</span></span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.random.rand(<span class="dv">50</span>) <span class="op">*</span> <span class="dv">100</span>  <span class="co"># Random data for x</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> np.random.rand(<span class="dv">50</span>) <span class="op">*</span> <span class="dv">100</span>  <span class="co"># Random data for y (not correlated with x)</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>z <span class="op">=</span> np.random.rand(<span class="dv">50</span>) <span class="op">*</span> <span class="dv">1000</span>  <span class="co"># Data for scaling marker sizes</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a Figure and Axes</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">7</span>, <span class="dv">6</span>))</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a scatter plot</span></span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>scatter <span class="op">=</span> ax.scatter(x, y, s<span class="op">=</span>z, c<span class="op">=</span>z, alpha<span class="op">=</span><span class="fl">0.5</span>, cmap<span class="op">=</span><span class="st">'Spectral'</span>)  </span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a><span class="co"># s=z scales the marker sizes, c=z maps the color to the data, alpha sets transparency</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a><span class="co"># Add labels and title</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'X-axis (Random Data)'</span>)</span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'Y-axis (Random Data)'</span>)</span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">' A colorful scatter plot'</span>)</span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Add color bar</span></span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>cbar <span class="op">=</span> plt.colorbar(scatter, ax<span class="op">=</span>ax)</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>cbar.set_label(<span class="st">'Values of Z'</span>)</span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="07_visualization_using_matplotlib_files/figure-html/cell-12-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-8"><img src="07_visualization_using_matplotlib_files/figure-html/cell-12-output-1.png" width="590" height="523" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>Notice that the color argument is automatically mapped to a color scale (shown here by the <code>colorbar()</code> command), and that the size argument is given in pixels. In this way, the color and size of points can be used to convey information in the visualization, in order to visualize multidimensional data.</p>
<p>List of colormaps can be found here: <a href="https://matplotlib.org/stable/tutorials/colors/colormaps.html" class="uri">https://matplotlib.org/stable/tutorials/colors/colormaps.html</a></p>
</section>
<section id="multiple-subplots-and-saving-plots" class="level3" data-number="7.2.6">
<h3 data-number="7.2.6" class="anchored" data-anchor-id="multiple-subplots-and-saving-plots"><span class="header-section-number">7.2.6</span> Multiple Subplots and Saving Plots</h3>
<p>Multiple plots can be generated by using the axes description ! Saving is automatically inferred !</p>
<div id="bc7d619c" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>x_m <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">10</span>, <span class="dv">100</span>) </span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>y_m <span class="op">=</span> x_m <span class="op">*</span> np.sin(x_m)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>ax1 <span class="op">=</span> plt.axes()  <span class="co"># standard axes</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>ax2 <span class="op">=</span> plt.axes([<span class="fl">0.5</span>, <span class="fl">0.5</span>, <span class="fl">0.2</span>, <span class="fl">0.2</span>])</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>ax1.plot(x_m, y_m, <span class="st">'.g'</span>)</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>ax2.plot(x_m, y_m, <span class="st">'-b'</span>)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>ax1.set_xlabel(<span class="st">'Time'</span>)</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>ax2.set_xlabel(<span class="st">'Pressure'</span>)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>ax1.set_ylabel(<span class="st">'Amplitude'</span>)</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>ax2.set_ylabel(<span class="st">'Temperature'</span>)</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>plt.savefig(<span class="st">'my_fig_1.png'</span>, dpi<span class="op">=</span><span class="dv">120</span>) <span class="co"># PNG Format of the figure is saved</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="07_visualization_using_matplotlib_files/figure-html/cell-13-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-9"><img src="07_visualization_using_matplotlib_files/figure-html/cell-13-output-1.png" width="587" height="429" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>Using a sequential loop, multiple plots can be aligned and plotted together !</p>
<div id="de08713c" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">7</span>, <span class="dv">7</span>))</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>fig.subplots_adjust(hspace<span class="op">=</span><span class="fl">0.4</span>, wspace<span class="op">=</span><span class="fl">0.4</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>color <span class="op">=</span> <span class="bu">iter</span>(plt.cm.rainbow(np.linspace(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">4</span>))) <span class="co"># To customize the colors</span></span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>xlabels <span class="op">=</span> [<span class="st">'$a^</span><span class="sc">{2}</span><span class="st"> p$'</span>, <span class="st">'a^</span><span class="sc">{2}</span><span class="st"> p'</span>, <span class="st">'a^</span><span class="sc">{2}</span><span class="st"> p'</span>, <span class="st">'a^</span><span class="sc">{2}</span><span class="st"> p'</span>]</span>
<span id="cb13-8"><a href="#cb13-8" aria-hidden="true" tabindex="-1"></a>ylabels <span class="op">=</span> [<span class="st">'$y(x)$'</span>, <span class="st">'$y(x)$'</span>, <span class="st">'$y(x)$'</span>, <span class="st">'$y(x)$'</span>]</span>
<span id="cb13-9"><a href="#cb13-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-10"><a href="#cb13-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, <span class="dv">5</span>):</span>
<span id="cb13-11"><a href="#cb13-11" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-12"><a href="#cb13-12" aria-hidden="true" tabindex="-1"></a>    ax <span class="op">=</span> fig.add_subplot(<span class="dv">2</span>, <span class="dv">2</span>, i)</span>
<span id="cb13-13"><a href="#cb13-13" aria-hidden="true" tabindex="-1"></a>    c <span class="op">=</span> <span class="bu">next</span>(color)</span>
<span id="cb13-14"><a href="#cb13-14" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-15"><a href="#cb13-15" aria-hidden="true" tabindex="-1"></a>    ax.plot(x_m, y_m, c<span class="op">=</span>c)</span>
<span id="cb13-16"><a href="#cb13-16" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb13-17"><a href="#cb13-17" aria-hidden="true" tabindex="-1"></a>    ax.text(<span class="dv">0</span>, <span class="dv">5</span>, <span class="st">'$a(t)=t \sin(t)$'</span>, fontsize<span class="op">=</span><span class="dv">12</span>)<span class="op">;</span></span>
<span id="cb13-18"><a href="#cb13-18" aria-hidden="true" tabindex="-1"></a>    ax.set_xlabel(xlabels[i<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb13-19"><a href="#cb13-19" aria-hidden="true" tabindex="-1"></a>    ax.set_ylabel(ylabels[i<span class="op">-</span><span class="dv">1</span>])</span>
<span id="cb13-20"><a href="#cb13-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-21"><a href="#cb13-21" aria-hidden="true" tabindex="-1"></a>plt.savefig(<span class="st">'my_fig.pdf'</span>, dpi<span class="op">=</span><span class="dv">120</span>) <span class="co"># PDF format of the figure is saved</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="07_visualization_using_matplotlib_files/figure-html/cell-14-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-10"><img src="07_visualization_using_matplotlib_files/figure-html/cell-14-output-1.png" width="594" height="577" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="visualizing-a-3d-function" class="level3" data-number="7.2.7">
<h3 data-number="7.2.7" class="anchored" data-anchor-id="visualizing-a-3d-function"><span class="header-section-number">7.2.7</span> Visualizing a 3D function</h3>
<p>Let us first define a function that takes in two co-ordinates and gives the height data !</p>
<div id="4da38be3" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>matplotlib inline</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><span class="math display">\[ z = sin(x)^{10} + cos(y)cos(x)  \]</span></p>
<div id="8f2d9365" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> f(x, y):</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> np.sin(x) <span class="op">**</span> <span class="dv">10</span> <span class="op">+</span> np.cos(y) <span class="op">*</span> np.cos(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="5968fe26" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">100</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> np.linspace(<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">100</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>X, Y <span class="op">=</span> np.meshgrid(x, y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="6a38e804" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>X</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="17">
<pre><code>array([[0.        , 0.05050505, 0.1010101 , ..., 4.8989899 , 4.94949495,
        5.        ],
       [0.        , 0.05050505, 0.1010101 , ..., 4.8989899 , 4.94949495,
        5.        ],
       [0.        , 0.05050505, 0.1010101 , ..., 4.8989899 , 4.94949495,
        5.        ],
       ...,
       [0.        , 0.05050505, 0.1010101 , ..., 4.8989899 , 4.94949495,
        5.        ],
       [0.        , 0.05050505, 0.1010101 , ..., 4.8989899 , 4.94949495,
        5.        ],
       [0.        , 0.05050505, 0.1010101 , ..., 4.8989899 , 4.94949495,
        5.        ]])</code></pre>
</div>
</div>
<div id="9ce8825e" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>Z <span class="op">=</span> f(X, Y)</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>Z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="18">
<pre><code>array([[1.        , 0.99872489, 0.99490282, ..., 1.02487674, 0.98783019,
        0.94108251],
       [0.99872489, 0.99745141, 0.99363421, ..., 1.02464018, 0.98753068,
        0.94072081],
       [0.99490282, 0.99363421, 0.98983161, ..., 1.02393111, 0.98663291,
        0.93963663],
       ...,
       [0.1855199 , 0.18528334, 0.18457427, ..., 0.87377447, 0.79651651,
        0.71004531],
       [0.23489055, 0.23459104, 0.23369327, ..., 0.88293371, 0.80811321,
        0.72404989],
       [0.28366219, 0.28330049, 0.28221631, ..., 0.89198182, 0.81956921,
        0.73788456]])</code></pre>
</div>
</div>
<p>Contour plots can be made using the height data.</p>
<div id="1dad8683" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">7</span>, <span class="dv">7</span>))</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>ax.contour(X, Y, Z, colors<span class="op">=</span><span class="st">'blue'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="07_visualization_using_matplotlib_files/figure-html/cell-20-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-11"><img src="07_visualization_using_matplotlib_files/figure-html/cell-20-output-1.png" width="562" height="564" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>When a single color is used, negative values are represented by dashed lines, and positive values by solid lines. Futher options for colormaps can be found here: <a href="https://matplotlib.org/stable/tutorials/colors/colormaps.html" class="uri">https://matplotlib.org/stable/tutorials/colors/colormaps.html</a></p>
<p>In case we want more lines (levels) to be drawn we can specify this in the command !</p>
<div id="68620884" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>ax.contour(X, Y, Z, levels<span class="op">=</span><span class="dv">30</span>, cmap<span class="op">=</span><span class="st">'Spectral'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Also <code>imshow</code> can be used as it directly plots array data.</p>
<ul>
<li><code>ax.imshow()</code> does not need the grid data as the matrix position is implicit in the height grid. The x and y coordinates have to be explicitly specified using <em>extent</em> [<em>xmin</em>, <em>xmax</em>, <em>ymin</em>, <em>ymax</em>] of the image on the plot.</li>
<li><code>ax.imshow()</code> by default plots with the origin in the upper left ! Use the</li>
</ul>
<div id="86a01933" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>Z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="21">
<pre><code>array([[1.        , 0.99872489, 0.99490282, ..., 1.02487674, 0.98783019,
        0.94108251],
       [0.99872489, 0.99745141, 0.99363421, ..., 1.02464018, 0.98753068,
        0.94072081],
       [0.99490282, 0.99363421, 0.98983161, ..., 1.02393111, 0.98663291,
        0.93963663],
       ...,
       [0.1855199 , 0.18528334, 0.18457427, ..., 0.87377447, 0.79651651,
        0.71004531],
       [0.23489055, 0.23459104, 0.23369327, ..., 0.88293371, 0.80811321,
        0.72404989],
       [0.28366219, 0.28330049, 0.28221631, ..., 0.89198182, 0.81956921,
        0.73788456]])</code></pre>
</div>
</div>
<div id="6d00530a" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>img <span class="op">=</span> ax.imshow(Z, cmap<span class="op">=</span><span class="st">'Spectral'</span>, origin<span class="op">=</span><span class="st">'lower'</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>fig.colorbar(img, ax<span class="op">=</span>ax)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Contour labels can be included using <code>clabel</code> !</p>
<div id="7ffba400" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a figure and axes using the object-oriented approach</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots(figsize<span class="op">=</span>(<span class="dv">7</span>, <span class="dv">7</span>))</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the contour plot</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>contours <span class="op">=</span> ax.contour(X, Y, Z, <span class="dv">5</span>, colors<span class="op">=</span><span class="st">'black'</span>)</span>
<span id="cb26-10"><a href="#cb26-10" aria-hidden="true" tabindex="-1"></a>ax.clabel(contours, inline<span class="op">=</span><span class="va">True</span>, fontsize<span class="op">=</span><span class="dv">12</span>)</span>
<span id="cb26-11"><a href="#cb26-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-12"><a href="#cb26-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the image</span></span>
<span id="cb26-13"><a href="#cb26-13" aria-hidden="true" tabindex="-1"></a>img <span class="op">=</span> ax.imshow(Z, extent<span class="op">=</span>[<span class="dv">0</span>, <span class="dv">5</span>, <span class="dv">0</span>, <span class="dv">5</span>], origin<span class="op">=</span><span class="st">'lower'</span>, cmap<span class="op">=</span><span class="st">'Spectral'</span>, alpha<span class="op">=</span><span class="fl">0.8</span>)</span>
<span id="cb26-14"><a href="#cb26-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-15"><a href="#cb26-15" aria-hidden="true" tabindex="-1"></a><span class="co"># Add a colorbar</span></span>
<span id="cb26-16"><a href="#cb26-16" aria-hidden="true" tabindex="-1"></a>fig.colorbar(img, ax<span class="op">=</span>ax)</span>
<span id="cb26-17"><a href="#cb26-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-18"><a href="#cb26-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Show the plot</span></span>
<span id="cb26-19"><a href="#cb26-19" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="07_visualization_using_matplotlib_files/figure-html/cell-24-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-12"><img src="07_visualization_using_matplotlib_files/figure-html/cell-24-output-1.png" width="556" height="537" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="visualizing-statistics" class="level2" data-number="7.3">
<h2 data-number="7.3" class="anchored" data-anchor-id="visualizing-statistics"><span class="header-section-number">7.3</span> Visualizing Statistics</h2>
<p>In 1774, Laplace’s first law posited that the frequency of errors can be described by an exponential function of the absolute value of the error, giving rise to the Laplace distribution. This distribution often models data in economics and health sciences more effectively than the traditional Gaussian distribution. The Laplace distribution is characterized by two parameters: the location parameter <span class="math inline">\(\mu\)</span> (mean) and the scale parameter <span class="math inline">\(b\)</span> (standard deviation).</p>
<p><span class="math display">\[f(x\mid\mu,b) = \frac{1}{2b} \exp \left( -\frac{|x-\mu|}{b} \right)\]</span></p>
<p>Let us generate two sets samples from the Laplace distribution !</p>
<div id="cb79a37e" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>mu, b <span class="op">=</span> <span class="dv">10</span>, <span class="dv">1</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>data_1 <span class="op">=</span> np.random.laplace(mu, b, <span class="dv">10000</span>)</span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>data_2 <span class="op">=</span> np.random.laplace(mu<span class="op">*</span><span class="dv">2</span>, b, <span class="dv">10000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="2d403933" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>plt.plot(data_2)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="07_visualization_using_matplotlib_files/figure-html/cell-26-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-13"><img src="07_visualization_using_matplotlib_files/figure-html/cell-26-output-1.png" width="579" height="411" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>The histogram i.e.&nbsp;the frequency of the data in a certain bin can be visualized using the following command !</p>
<div id="b253680f" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>count, bins, ignored <span class="op">=</span> plt.hist(data_1, bins<span class="op">=</span><span class="dv">50</span>, histtype<span class="op">=</span><span class="st">'stepfilled'</span>, alpha<span class="op">=</span><span class="fl">0.5</span>, edgecolor<span class="op">=</span><span class="st">'black'</span>)</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>count, bins, ignored <span class="op">=</span> plt.hist(data_2, bins<span class="op">=</span><span class="dv">50</span>, histtype<span class="op">=</span><span class="st">'stepfilled'</span>, alpha<span class="op">=</span><span class="fl">0.5</span>, edgecolor<span class="op">=</span><span class="st">'red'</span>)</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Time'</span>)</span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'counts'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="26">
<pre><code>Text(0, 0.5, 'counts')</code></pre>
</div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="07_visualization_using_matplotlib_files/figure-html/cell-27-output-2.png" class="lightbox" data-gallery="quarto-lightbox-gallery-14"><img src="07_visualization_using_matplotlib_files/figure-html/cell-27-output-2.png" width="602" height="429" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<div id="dcd641ed" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>bins</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="27">
<pre><code>array([11.99227956, 12.34213864, 12.69199772, 13.04185681, 13.39171589,
       13.74157497, 14.09143405, 14.44129314, 14.79115222, 15.1410113 ,
       15.49087038, 15.84072946, 16.19058855, 16.54044763, 16.89030671,
       17.24016579, 17.59002488, 17.93988396, 18.28974304, 18.63960212,
       18.9894612 , 19.33932029, 19.68917937, 20.03903845, 20.38889753,
       20.73875662, 21.0886157 , 21.43847478, 21.78833386, 22.13819294,
       22.48805203, 22.83791111, 23.18777019, 23.53762927, 23.88748836,
       24.23734744, 24.58720652, 24.9370656 , 25.28692468, 25.63678377,
       25.98664285, 26.33650193, 26.68636101, 27.0362201 , 27.38607918,
       27.73593826, 28.08579734, 28.43565643, 28.78551551, 29.13537459,
       29.48523367])</code></pre>
</div>
</div>
</section>
<section id="two-dimensional-histograms" class="level2" data-number="7.4">
<h2 data-number="7.4" class="anchored" data-anchor-id="two-dimensional-histograms"><span class="header-section-number">7.4</span> Two-Dimensional Histograms</h2>
<p>The multivariate normal, multinormal or Gaussian distribution is a generalization of the one-dimensional normal distribution to higher dimensions. Such a distribution is specified by its mean and covariance matrix. These parameters are analogous to the mean (average or “center”) and variance (standard deviation, or “width,” squared) of the one-dimensional normal distribution.</p>
<p>Covariance indicates the level to which two variables vary together.</p>
<div id="eda772a3" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>mean <span class="op">=</span> [<span class="dv">0</span>, <span class="dv">0</span>]</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>covariance <span class="op">=</span> [[<span class="dv">1</span>, <span class="dv">0</span>], [<span class="dv">0</span>, <span class="dv">1</span>]]</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>x, y <span class="op">=</span> np.random.multivariate_normal(mean, covariance, <span class="dv">10000</span>).T</span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>plt.hexbin(x, y, gridsize<span class="op">=</span><span class="dv">50</span>, cmap<span class="op">=</span><span class="st">'BuPu'</span>)</span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>cb <span class="op">=</span> plt.colorbar()</span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>cb.set_label(<span class="st">'counts in bin'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="07_visualization_using_matplotlib_files/figure-html/cell-29-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-15"><img src="07_visualization_using_matplotlib_files/figure-html/cell-29-output-1.png" width="554" height="413" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
</section>
<section id="animations-chaotic-dynamics-of-a-double-pendulum" class="level2" data-number="7.5">
<h2 data-number="7.5" class="anchored" data-anchor-id="animations-chaotic-dynamics-of-a-double-pendulum"><span class="header-section-number">7.5</span> Animations: Chaotic Dynamics of a Double Pendulum</h2>
<p>The double pendulum is a simple physical system that exhibits chaotic behavior. The double pendulum consists of two pendulums connected by a hinge. The motion of the double pendulum is governed by a set of coupled differential equations that are highly sensitive to initial conditions. This sensitivity to initial conditions is what leads to chaotic behavior. Below is the code to simulate the dynamics of a double pendulum using Python. The animation shows the chaotic motion of the double penduluum and has been computed using the Runge-Kutta and saved as a GIF using the Pillow library.</p>
<p>The governing equations for the double pendulum are given as:</p>
<p><span class="math display">\[
\mathbf{A}\left(\begin{array}{c}
\dot{\theta}_{1}\\
\dot{\theta}_{2}
\end{array}\right)+\mathbf{B}\left(\begin{array}{c}
\ddot{\theta}_{1}\\
\ddot{\theta}_{2}
\end{array}\right)-\mathbf{r}=0
\]</span></p>
<p>Where, <span class="math display">\[
\mathbf{A}=\left[\begin{array}{cc}
-m_{2}l_{1}l_{2}\dot{\theta}_{2}sin\left(\theta_{1}-\theta_{2}\right) &amp; m_{2}l_{1}l_{2}\dot{\theta}_{2}sin\left(\theta_{1}-\theta_{2}\right)\\
-m_{2}l_{1}l_{2}\dot{\theta}_{1}sin\left(\theta_{1}-\theta_{2}\right) &amp; m_{2}l_{1}l_{2}\dot{\theta}_{1}sin\left(\theta_{1}-\theta_{2}\right)
\end{array}\right]\label{eq:16}
\]</span></p>
<p>and</p>
<p><span class="math display">\[
\mathbf{B}=\left[\begin{array}{cc}
\left(m_{1}+m_{2}\right)l_{1}^{2} &amp; m_{2}l_{1}l_{2}cos\left(\theta_{1}-\theta_{2}\right)\\
m_{2}l_{1}l_{2}cos\left(\theta_{1}-\theta_{2}\right) &amp; m_{2}l_{2}^{2}
\end{array}\right]\label{eq:17}
\]</span></p>
<p>with</p>
<p><span class="math display">\[
\mathbf{r}=\left[\begin{array}{c}
-l_{1}g\left(m_{1}+m_{2}\right)sin\theta_{1}-m_{2}l_{1}l_{2}\dot{\theta}_{1}\dot{\theta}_{2}sin\left(\theta_{1}-\theta_{2}\right)\\
m_{2}l_{1}l_{2}\dot{\theta}_{1}\dot{\theta}_{2}sin\left(\theta_{1}-\theta_{2}\right)-l_{2}m_{2}g\,sin\theta_{2}
\end{array}\right]\label{eq:18}
\]</span></p>
<p>Assuming <span class="math inline">\(\frac{d\theta_1}{dt} = z_1\)</span> and <span class="math inline">\(\frac{d\theta_2}{dt}= z_2\)</span> we can implement the Runge-Kutta method to solve the ODEs.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<figcaption>Dynamics of a Double Pendulum</figcaption>
<p><a href="data/double_pendulum.gif" class="lightbox" data-gallery="quarto-lightbox-gallery-16" title="Dynamics of a Double Pendulum"><img src="data/double_pendulum.gif" class="img-fluid figure-img" width="600" alt="Dynamics of a Double Pendulum"></a></p>
</figure>
</div>
<div id="reaction_diffusion" class="cell" data-execution_count="29">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.animation <span class="im">as</span> animation</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Parameters</span></span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> <span class="fl">9.81</span>  <span class="co"># acceleration due to gravity</span></span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>L1 <span class="op">=</span> <span class="fl">1.0</span>  <span class="co"># length of the first pendulum</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>L2 <span class="op">=</span> <span class="fl">1.0</span>  <span class="co"># length of the second pendulum</span></span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a>m1 <span class="op">=</span> <span class="fl">1.0</span>  <span class="co"># mass of the first pendulum</span></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>m2 <span class="op">=</span> <span class="fl">1.0</span>  <span class="co"># mass of the second pendulum</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> derivatives(state, t):</span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>    theta1, z1, theta2, z2 <span class="op">=</span> state</span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>    delta <span class="op">=</span> theta2 <span class="op">-</span> theta1</span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>    denominator1 <span class="op">=</span> (m1 <span class="op">+</span> m2) <span class="op">*</span> L1 <span class="op">-</span> m2 <span class="op">*</span> L1 <span class="op">*</span> np.cos(delta) <span class="op">**</span> <span class="dv">2</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>    denominator2 <span class="op">=</span> (L2 <span class="op">/</span> L1) <span class="op">*</span> denominator1</span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>    dydx <span class="op">=</span> np.zeros_like(state)</span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>    dydx[<span class="dv">0</span>] <span class="op">=</span> z1</span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>    dydx[<span class="dv">1</span>] <span class="op">=</span> (m2 <span class="op">*</span> L1 <span class="op">*</span> z1 <span class="op">**</span> <span class="dv">2</span> <span class="op">*</span> np.sin(delta) <span class="op">*</span> np.cos(delta) <span class="op">+</span></span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>               m2 <span class="op">*</span> g <span class="op">*</span> np.sin(theta2) <span class="op">*</span> np.cos(delta) <span class="op">+</span></span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>               m2 <span class="op">*</span> L2 <span class="op">*</span> z2 <span class="op">**</span> <span class="dv">2</span> <span class="op">*</span> np.sin(delta) <span class="op">-</span></span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a>               (m1 <span class="op">+</span> m2) <span class="op">*</span> g <span class="op">*</span> np.sin(theta1)) <span class="op">/</span> denominator1</span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a>    dydx[<span class="dv">2</span>] <span class="op">=</span> z2</span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a>    dydx[<span class="dv">3</span>] <span class="op">=</span> (<span class="op">-</span>m2 <span class="op">*</span> L2 <span class="op">*</span> z2 <span class="op">**</span> <span class="dv">2</span> <span class="op">*</span> np.sin(delta) <span class="op">*</span> np.cos(delta) <span class="op">+</span></span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a>               (m1 <span class="op">+</span> m2) <span class="op">*</span> g <span class="op">*</span> np.sin(theta1) <span class="op">*</span> np.cos(delta) <span class="op">-</span></span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a>               (m1 <span class="op">+</span> m2) <span class="op">*</span> L1 <span class="op">*</span> z1 <span class="op">**</span> <span class="dv">2</span> <span class="op">*</span> np.sin(delta) <span class="op">-</span></span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a>               (m1 <span class="op">+</span> m2) <span class="op">*</span> g <span class="op">*</span> np.sin(theta2)) <span class="op">/</span> denominator2</span>
<span id="cb34-30"><a href="#cb34-30" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> dydx</span>
<span id="cb34-31"><a href="#cb34-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-32"><a href="#cb34-32" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> runge_kutta_step(func, y, t, dt):</span>
<span id="cb34-33"><a href="#cb34-33" aria-hidden="true" tabindex="-1"></a>    k1 <span class="op">=</span> dt <span class="op">*</span> func(y, t)</span>
<span id="cb34-34"><a href="#cb34-34" aria-hidden="true" tabindex="-1"></a>    k2 <span class="op">=</span> dt <span class="op">*</span> func(y <span class="op">+</span> <span class="fl">0.5</span> <span class="op">*</span> k1, t <span class="op">+</span> <span class="fl">0.5</span> <span class="op">*</span> dt)</span>
<span id="cb34-35"><a href="#cb34-35" aria-hidden="true" tabindex="-1"></a>    k3 <span class="op">=</span> dt <span class="op">*</span> func(y <span class="op">+</span> <span class="fl">0.5</span> <span class="op">*</span> k2, t <span class="op">+</span> <span class="fl">0.5</span> <span class="op">*</span> dt)</span>
<span id="cb34-36"><a href="#cb34-36" aria-hidden="true" tabindex="-1"></a>    k4 <span class="op">=</span> dt <span class="op">*</span> func(y <span class="op">+</span> k3, t <span class="op">+</span> dt)</span>
<span id="cb34-37"><a href="#cb34-37" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> y <span class="op">+</span> (k1 <span class="op">+</span> <span class="dv">2</span> <span class="op">*</span> k2 <span class="op">+</span> <span class="dv">2</span> <span class="op">*</span> k3 <span class="op">+</span> k4) <span class="op">/</span> <span class="dv">6</span></span>
<span id="cb34-38"><a href="#cb34-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-39"><a href="#cb34-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Initial conditions</span></span>
<span id="cb34-40"><a href="#cb34-40" aria-hidden="true" tabindex="-1"></a>theta1 <span class="op">=</span> np.pi <span class="op">/</span> <span class="dv">2</span></span>
<span id="cb34-41"><a href="#cb34-41" aria-hidden="true" tabindex="-1"></a>theta2 <span class="op">=</span> np.pi <span class="op">/</span> <span class="dv">2</span></span>
<span id="cb34-42"><a href="#cb34-42" aria-hidden="true" tabindex="-1"></a>z1 <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb34-43"><a href="#cb34-43" aria-hidden="true" tabindex="-1"></a>z2 <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb34-44"><a href="#cb34-44" aria-hidden="true" tabindex="-1"></a>state <span class="op">=</span> np.array([theta1, z1, theta2, z2])</span>
<span id="cb34-45"><a href="#cb34-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-46"><a href="#cb34-46" aria-hidden="true" tabindex="-1"></a><span class="co"># Time parameters</span></span>
<span id="cb34-47"><a href="#cb34-47" aria-hidden="true" tabindex="-1"></a>t <span class="op">=</span> <span class="fl">0.0</span></span>
<span id="cb34-48"><a href="#cb34-48" aria-hidden="true" tabindex="-1"></a>dt <span class="op">=</span> <span class="fl">0.01</span></span>
<span id="cb34-49"><a href="#cb34-49" aria-hidden="true" tabindex="-1"></a>t_final <span class="op">=</span> <span class="fl">10.0</span></span>
<span id="cb34-50"><a href="#cb34-50" aria-hidden="true" tabindex="-1"></a>time <span class="op">=</span> np.arange(t, t_final, dt)</span>
<span id="cb34-51"><a href="#cb34-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-52"><a href="#cb34-52" aria-hidden="true" tabindex="-1"></a><span class="co"># Solve the ODE</span></span>
<span id="cb34-53"><a href="#cb34-53" aria-hidden="true" tabindex="-1"></a>states <span class="op">=</span> np.zeros((<span class="bu">len</span>(time), <span class="dv">4</span>))</span>
<span id="cb34-54"><a href="#cb34-54" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i, t <span class="kw">in</span> <span class="bu">enumerate</span>(time):</span>
<span id="cb34-55"><a href="#cb34-55" aria-hidden="true" tabindex="-1"></a>    states[i] <span class="op">=</span> state</span>
<span id="cb34-56"><a href="#cb34-56" aria-hidden="true" tabindex="-1"></a>    state <span class="op">=</span> runge_kutta_step(derivatives, state, t, dt)</span>
<span id="cb34-57"><a href="#cb34-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-58"><a href="#cb34-58" aria-hidden="true" tabindex="-1"></a><span class="co"># Extract the angles</span></span>
<span id="cb34-59"><a href="#cb34-59" aria-hidden="true" tabindex="-1"></a>theta1 <span class="op">=</span> states[:, <span class="dv">0</span>]</span>
<span id="cb34-60"><a href="#cb34-60" aria-hidden="true" tabindex="-1"></a>theta2 <span class="op">=</span> states[:, <span class="dv">2</span>]</span>
<span id="cb34-61"><a href="#cb34-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-62"><a href="#cb34-62" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate positions</span></span>
<span id="cb34-63"><a href="#cb34-63" aria-hidden="true" tabindex="-1"></a>x1 <span class="op">=</span> L1 <span class="op">*</span> np.sin(theta1)</span>
<span id="cb34-64"><a href="#cb34-64" aria-hidden="true" tabindex="-1"></a>y1 <span class="op">=</span> <span class="op">-</span>L1 <span class="op">*</span> np.cos(theta1)</span>
<span id="cb34-65"><a href="#cb34-65" aria-hidden="true" tabindex="-1"></a>x2 <span class="op">=</span> x1 <span class="op">+</span> L2 <span class="op">*</span> np.sin(theta2)</span>
<span id="cb34-66"><a href="#cb34-66" aria-hidden="true" tabindex="-1"></a>y2 <span class="op">=</span> y1 <span class="op">-</span> L2 <span class="op">*</span> np.cos(theta2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>This guide explains how to create animations in Python using Matplotlib, specifically focusing on generating a GIF file. The provided code demonstrates the necessary steps to set up and animate a plot.</p>
<ol type="1">
<li>Import Necessary Libraries First, ensure you have the necessary libraries installed:</li>
</ol>
<div id="6aa1a2c6" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.animation <span class="im">as</span> animation</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Set Up the Figure and Axis Create a figure and axis, and configure the limits and appearance:</li>
</ol>
<div id="4fd3edd1" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>ax.set_xlim(<span class="op">-</span><span class="dv">2</span>, <span class="dv">2</span>)</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>ax.set_ylim(<span class="op">-</span><span class="dv">2</span>, <span class="dv">2</span>)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>line, <span class="op">=</span> ax.plot([], [], lw<span class="op">=</span><span class="dv">2</span>)  <span class="co"># Line plot</span></span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>marker1, <span class="op">=</span> ax.plot([], [], <span class="st">'bo'</span>, markersize<span class="op">=</span><span class="dv">8</span>)  <span class="co"># First marker</span></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>marker2, <span class="op">=</span> ax.plot([], [], <span class="st">'bo'</span>, markersize<span class="op">=</span><span class="dv">8</span>)  <span class="co"># Second marker</span></span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>ax.hlines(y<span class="op">=</span><span class="fl">0.0</span>, xmin<span class="op">=-</span><span class="fl">0.2</span>, xmax<span class="op">=</span><span class="fl">0.2</span>, linewidth<span class="op">=</span><span class="dv">10</span>, color<span class="op">=</span><span class="st">'gray'</span>)  <span class="co"># Horizontal line</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><a href="07_visualization_using_matplotlib_files/figure-html/cell-32-output-1.png" class="lightbox" data-gallery="quarto-lightbox-gallery-17"><img src="07_visualization_using_matplotlib_files/figure-html/cell-32-output-1.png" width="592" height="416" class="figure-img"></a></p>
</figure>
</div>
</div>
</div>
<p>Hide the axis spines and disable the axis:</p>
<div id="ab0a2939" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> spine <span class="kw">in</span> [<span class="st">'top'</span>, <span class="st">'right'</span>, <span class="st">'left'</span>, <span class="st">'bottom'</span>]:</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>    ax.spines[spine].set_visible(<span class="va">False</span>)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>ax.set_axis_off()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="3" type="1">
<li>Define the Initialization Function The <code>init</code> function initializes the plot components:</li>
</ol>
<div id="8295932d" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> init():</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>    line.set_data([], [])</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>    marker1.set_data([], [])</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a>    marker2.set_data([], [])</span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> line, marker1, marker2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="4" type="1">
<li>Define the Update Function The <code>update</code> function updates the plot for each frame. It sets the data for the line and markers based on the current frame:</li>
</ol>
<div id="b4207335" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> update(frame):</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>    line.set_data([<span class="dv">0</span>, x1[frame], x2[frame]], [<span class="dv">0</span>, y1[frame], y2[frame]])</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    marker1.set_data([x1[frame]], [y1[frame]])</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    marker2.set_data([x2[frame]], [y2[frame]])</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> line, marker1, marker2</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="5" type="1">
<li>Create the Animation Use <code>FuncAnimation</code> to create the animation. Specify the figure, update function, number of frames, and initialization function:</li>
</ol>
<div id="ec19b65f" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>ani <span class="op">=</span> animation.FuncAnimation(fig, update, frames<span class="op">=</span><span class="bu">len</span>(time),</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>                              init_func<span class="op">=</span>init, blit<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="6" type="1">
<li>Save the Animation as a GIF Finally, save the animation using Pillow:</li>
</ol>
<div id="ac5c91d3" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>ani.save(<span class="st">'data/double_pendulum.gif'</span>, writer<span class="op">=</span><span class="st">'pillow'</span>, fps<span class="op">=</span><span class="dv">30</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="7" type="1">
<li>Close the Plot Close the plot to avoid displaying it:</li>
</ol>
<div id="93cd0c14" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>plt.close()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="exercises" class="level2" data-number="7.6">
<h2 data-number="7.6" class="anchored" data-anchor-id="exercises"><span class="header-section-number">7.6</span> Exercises</h2>
<section id="theory" class="level3" data-number="7.6.1">
<h3 data-number="7.6.1" class="anchored" data-anchor-id="theory"><span class="header-section-number">7.6.1</span> Theory</h3>
<ol type="1">
<li>What is Matplotlib, and how is it used in Python?</li>
<li>What are some of the different types of plots that can be created using Matplotlib?</li>
<li>How can the appearance of a plot be customized in Matplotlib?</li>
<li>How does Matplotlib integrate with other Python libraries such as NumPy and Pandas?</li>
<li>How can Matplotlib be used to create interactive plots and visualizations?</li>
</ol>
</section>
<section id="coding" class="level3" data-number="7.6.2">
<h3 data-number="7.6.2" class="anchored" data-anchor-id="coding"><span class="header-section-number">7.6.2</span> Coding</h3>
<ol start="6" type="1">
<li>Create a simple line plot using Matplotlib, where the x-axis represents time and the y-axis represents some quantity (such as temperature, stock prices, etc.). Customize the appearance of the plot, including the title, axis labels, and color.</li>
<li>Create a bar chart using Matplotlib to compare the performance of different models in a machine learning task. Customize the appearance of the chart to make it more visually appealing and informative.</li>
<li>Create a pie chart using Matplotlib to visualize the distribution of a categorical variable in a dataset. Add labels to the chart to show the percentage of each category.</li>
<li>Create a function and generate data using numpy. Plot this data using scatter plot.</li>
</ol>
</section>
</section>
<section id="further-reading" class="level2" data-number="7.7">
<h2 data-number="7.7" class="anchored" data-anchor-id="further-reading"><span class="header-section-number">7.7</span> Further Reading</h2>
<ol type="1">
<li><a href="https://matplotlib.org/stable/tutorials/introductory/quick_start.html" class="uri">https://matplotlib.org/stable/tutorials/introductory/quick_start.html</a><br>
</li>
<li><a href="https://matplotlib.org/stable/gallery/subplots_axes_and_figures/index.html" class="uri">https://matplotlib.org/stable/gallery/subplots_axes_and_figures/index.html</a></li>
<li><a href="https://matplotlib.org/stable/gallery/statistics/index.html" class="uri">https://matplotlib.org/stable/gallery/statistics/index.html</a></li>
</ol>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./06_pandas.html" class="pagination-link" aria-label="Dataframes and Series for Data Wrangling">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Dataframes and Series for Data Wrangling</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./08_scientific_computing_using_scipy.html" class="pagination-link" aria-label="Scientific Python (SciPy)">
        <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Scientific Python (SciPy)</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright 2024, Jithender Timothy</p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"selector":".lightbox","openEffect":"zoom","closeEffect":"zoom","loop":false,"descPosition":"bottom"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>